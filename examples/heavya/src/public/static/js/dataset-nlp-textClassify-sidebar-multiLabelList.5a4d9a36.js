(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["dataset-nlp-textClassify-sidebar-multiLabelList","dataset-components-labelEditor","dataset-components-searchLabel"],{"40f8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-10"},[a("div",{staticClass:"flex flex-between flex-wrap flex-vertical-align"},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showLabel,expression:"showLabel"}],staticStyle:{padding:"0","margin-bottom":"0"}},[a("label",{staticClass:"el-form-item__label"},[a("span",{staticClass:"vm"},[e._v(e._s(e.labelsTitle))]),e._v(" "),a("LabelEditor",{attrs:{title:"创建标签"},on:{handleOk:e.handleCreateLabel}},[a("i",{staticClass:"el-icon-circle-plus cp vm primary ml-4",staticStyle:{"font-size":"18px"},attrs:{slot:"trigger"},slot:"trigger"})])],1)]),e._v(" "),a("SearchLabel",{ref:"searchRef",staticStyle:{"padding-bottom":"10px"},on:{change:e.handleSearch}})],1),e._v(" "),a("div",{staticStyle:{"max-height":"200px",padding:"0 2.5px",overflow:"auto"}},[e.filteredLabels.length?a("div",e._l(e.filteredLabels,(function(t){return a("div",{key:t.id,staticClass:"my-5 flex flex-between flex-vertical-align label-container"},[a("el-tag",{staticClass:"tag-item",style:Object.assign({},e.getStyle(t),{width:"120px"}),attrs:{title:t.name,color:t.color},on:{click:function(a){return e.handleLabelClick(t)}}},[a("span",{attrs:{title:t.name}},[e._v(e._s(t.name))])]),e._v(" "),!e.isPresetDataset(e.type)&&e.isNil(t.labelGroupId)&&e.labelClickable?a("div",{staticClass:"hover-show fr f14 g6"},[a("LabelEditor",{attrs:{title:"修改标签",labelData:t},on:{handleOk:e.editLabel}},[a("i",{staticClass:"el-icon-edit cp vm ml-4",attrs:{slot:"trigger"},slot:"trigger"})]),e._v(" "),a("i",{staticClass:"el-icon-delete cp vm",on:{click:function(a){return e.deleteLabel(t)}}})],1):e._e()],1)})),0):a("div",{staticClass:"g6 f14"},[e._v("\n      暂无标签，请添加\n    ")])])])},n=[],i=a("5c96"),s=a("ed09"),c=a("ed08"),r=a("beb6"),o=a("2ef0"),u=a("4d05"),b=a("3da5"),f={name:"MultiLabelList",components:{SearchLabel:r["default"],LabelEditor:u["default"]},props:{labels:{type:Array,default:function(){return[]}},type:Number,createLabel:Function,selectLabel:Function,editLabel:Function,deleteLabel:Function,labelClickable:{type:Boolean,default:!0}},setup:function(e){var t=Object(s["o"])(null),a=Object(s["o"])([]),l=function(t){var a=Object(c["z"])(t.color);return{color:a,display:"inline-block",cursor:e.labelClickable?"pointer":"unset"}},n=function(t){a.value=t?e.labels.filter((function(e){return e.name.includes(t)})):e.labels},r=Object(s["a"])((function(){return"全部标签(".concat(e.labels.length,")")})),u=Object(s["a"])((function(){return!t.value||!t.value.state.open})),f=function(t){e.labelClickable&&e.selectLabel(t)},d=function(t,a){e.labels.findIndex((function(e){return e.name===a.name}))>-1?i["Message"].warning("当前标签已存在"):e.createLabel(a)};return Object(s["r"])((function(){return e.labels}),(function(e){a.value=e}),{immediate:!0}),{searchRef:t,filteredLabels:a,isNil:o["isNil"],isPresetDataset:b["isPresetDataset"],labelsTitle:r,showLabel:u,getStyle:l,handleLabelClick:f,handleCreateLabel:d,handleSearch:n}}},d=f,p=(a("7fc6"),a("2877")),m=Object(p["a"])(d,l,n,!1,null,"27b8dc72",null);t["default"]=m.exports},"4d05":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{key:e.state.dialogKey,attrs:{placement:"top",width:"240",trigger:"click",title:e.props.title},on:{show:e.onShow,hide:e.onHide},model:{value:e.state.visible,callback:function(t){e.$set(e.state,"visible",t)},expression:"state.visible"}},[a("el-form",{ref:"formRef",staticStyle:{"margin-top":"20px"},attrs:{model:e.state.form,rules:e.rules,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{ref:"inputRef",attrs:{placeholder:e.props.title},model:{value:e.state.form.name,callback:function(t){e.$set(e.state.form,"name",t)},expression:"state.form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"颜色",prop:"color"}},[a("el-color-picker",{model:{value:e.state.form.color,callback:function(t){e.$set(e.state.form,"color",t)},expression:"state.form.color"}})],1),e._v(" "),a("div",{staticClass:"tc"},[a("el-button",{attrs:{type:"text"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")])],1)],1),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._t("trigger")],2)],1)},n=[],i=a("2b0e"),s=a("ed09"),c=a("61f7"),r=a("2ef0"),o={name:"LabelEditor",props:{getStyle:Function,title:String,labelData:{type:Object,default:function(){return{}}}},setup:function(e,t){var a=Object(s["o"])(null),l=Object(s["o"])(null),n=Object(s["n"])({visible:!1,dialogKey:1,form:{name:e.labelData.name||"",color:e.labelData.color||"#2e4fde"}}),o={name:[{required:!0,message:"请输入标签名称",trigger:["change","blur"]},{validator:c["p"],trigger:["change","blur"]}]},u=function(){Object.assign(n,{visible:!1,form:{name:e.labelData.name||"",color:e.labelData.color||"#2e4fde"}})},b=function(){l.value.validate().then((function(a){a&&(n.form.color===e.labelData.color&&n.form.name===e.labelData.name||t.emit("handleOk",e.labelData.id,n.form),Object(r["isNil"])(e.labelData.name)?u():Object.assign(n,{dialogKey:n.dialogKey+1}))}))},f=function(){i["default"].nextTick((function(){var e=a&&a.value.$refs.input;e&&e.focus()}))},d=function(){Object.assign(n,{dialogKey:n.dialogKey+1})};return{props:e,state:n,rules:o,inputRef:a,formRef:l,handleOk:b,handleCancel:u,onShow:f,onHide:d}}},u=o,b=a("2877"),f=Object(b["a"])(u,l,n,!1,null,null,null);t["default"]=f.exports},"504a":function(e,t,a){"use strict";a("9262")},"7fc6":function(e,t,a){"use strict";a("d3fa")},9262:function(e,t,a){},beb6:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"dataset-searchLabel tr"},[e.state.open?a("div",[a("el-input",{ref:"inputRef",staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{change:e.search,input:e.search},model:{value:e.state.value,callback:function(t){e.$set(e.state,"value",t)},expression:"state.value"}},[a("el-button",{attrs:{slot:"append",size:"mini",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1):a("i",{staticClass:"el-icon-search cp",on:{click:e.handleOpen}})])},n=[],i=a("2b0e"),s=a("ed09"),c=a("c28b"),r=a.n(c),o={name:"SearchLabel",directives:{clickOutside:r.a.directive},props:{handleSearch:Function},setup:function(e,t){var a=Object(s["o"])(null),l=Object(s["n"])({open:!1,prevValue:"",value:""}),n=function(){l.open=!0,i["default"].nextTick((function(){a.value.focus()}))},c=function(){Object.assign(l,{open:!1,value:""})},r=function(e){!e.target.closest(".dataset-searchLabel")&&l.open&&(c(),t.emit("change",""))},o=function(){l.value!==l.prevValue&&t.emit("change",l.value),i["default"].nextTick((function(){Object.assign(l,{prevValue:l.value})}))};return{state:l,handleOpen:n,onClickOutside:r,search:o,inputRef:a}}},u=o,b=(a("504a"),a("2877")),f=Object(b["a"])(u,l,n,!1,null,null,null);t["default"]=f.exports},d3fa:function(e,t,a){}}]);