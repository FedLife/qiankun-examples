(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["dataset-list-action"],{6856:function(t,e,n){"use strict";n.r(e);var o=n("2638"),a=n.n(o),r=n("2ef0"),c=n("3da5");function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e=p(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=T(t,"string");return"symbol"===i(e)?e:String(e)}function T(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={name:"DatasetAction",functional:!0,props:{stopRunning:Function,showPublish:Function,uploadDataFile:Function,goDetail:Function,showAutoAnnotate:Function,gotoVersion:Function,showTrack:Function,dataEnhance:Function,topDataset:Function,editDataset:Function,modelTypeList:Array,checkImport:Function},render:function(t,e){var n=e.data,o=e.props,i=o.stopRunning,u=o.showPublish,l=o.uploadDataFile,p=o.goDetail,T=o.showAutoAnnotate,d=o.gotoVersion,A=o.showTrack,b=o.dataEnhance,N=o.topDataset,O=o.editDataset,f=o.checkImport,y=s(s({},n),{},{scopedSlots:{header:function(){return t("span",{class:"ml-10"},["操作"])},default:function(e){var n=e.row,o={props:{type:"text",disabled:n.disabledAction},class:"action-button"},s=Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATING","SAMPLING","TRACKING","ENHANCING"]),y=t("el-button",a()([{},o,{on:{click:function(){return i(n)}}}]),["停止"]),I=!Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATING","UNSAMPLED","SAMPLING","SAMPLE_FAILED","TRACKING","ENHANCING","TRACK_FAILED","IMPORTING"]);n.dataType===c["dataTypeCodeMap"].VIDEO&&Object(c["isStatus"])(n,"AUTO_ANNOTATED")&&(I=!1);var E=Object(c["isCustomDataset"])(n)?t("el-button",a()([{},o,{on:{click:function(){return p(n)}}}]),["查看文件"]):t("el-button",a()([{},o,{on:{click:function(){return p(n)}}}]),["查看与标注"]),m=Object(c["isPublishDataset"])(n)?t("el-tooltip",{attrs:{content:"当前版本生成中，请稍后刷新",placement:"top"}},[t("el-button",a()([{},o]),[t("span",{style:"color: #666; cursor: auto"},["查看与标注"])])]):E,D=Object(c["enableAutoLabel"])(n.annotateType)&&n.dataType!==c["dataTypeCodeMap"].TABLE,C=Object(c["isIncludeStatus"])(n,["UNANNOTATED","ANNOTATING","AUTO_ANNOTATED","ANNOTATED"])&&D,j=(t("el-button",a()([{},o,{on:{click:function(){return T(n)}}}]),["自动标注"]),{on:{onConfirm:function(){return u(n)}}}),S=!1,w=null,M=t("el-popconfirm",a()([{attrs:{"popper-class":"reannotate-popconfirm",placement:"bottom",title:"提示：自动标注已完成，尚未进行人工确认，是否发布？",width:"200"}},j]),[t("el-button",a()([{slot:"reference"},o]),["发布"])]),h=t("el-button",a()([{},o,{on:{click:function(){return u(n)}}}]),["发布"]);Object(c["isStatus"])(n,"AUTO_ANNOTATED")?[c["dataTypeCodeMap"].IMAGE,c["dataTypeCodeMap"].TEXT,c["dataTypeCodeMap"].TABLE,c["dataTypeCodeMap"].AUDIO].includes(n.dataType)&&(S=!0,w=M):Object(c["isStatus"])(n,"ANNOTATED")?[c["dataTypeCodeMap"].IMAGE,c["dataTypeCodeMap"].TEXT,c["dataTypeCodeMap"].TABLE,c["dataTypeCodeMap"].AUDIO,c["dataTypeCodeMap"].VIDEO].includes(n.dataType)&&(S=!0,w=h):Object(c["isStatus"])(n,"TRACK_SUCCEED")&&(S=!0,w=h),[c["dataTypeCodeMap"].TEXT,c["dataTypeCodeMap"].TABLE].includes(n.dataType)&&!Object(r["isNil"])(n.currentVersionName)&&(S=!1);var P=!1,G=t("el-button",a()([{},o,{on:{click:function(){return l(n)}}}]),["导入"]);Object(c["isIncludeStatus"])(n,["SAMPLING","AUTO_ANNOTATING","ENHANCING","TRACKING","IMPORTING"])||(P=!0);var k=n.annotateType===c["annotationMap"].ObjectTracking.code&&Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATED","ANNOTATED","TRACK_FAILED","TRACK_SUCCEED"]),g=t("el-button",a()([{},o,{on:{click:function(){return A(n)}}}]),["目标跟踪"]),v=n.dataType===c["dataTypeCodeMap"].IMAGE&&Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATED","ANNOTATED"]),_=t("el-button",a()([{},o,{on:{click:function(){return b(n)}}}]),["数据增强"]),F=n.currentVersionName&&!Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATING","ENHANCING","TRACKING","IMPORTING"]),L=t("el-button",a()([{},o,{on:{click:function(){return d(n)}}}]),["历史版本"]),U=!0,R=(t("el-button",a()([{},o,{on:{click:function(){return N(n)}}}]),[n.top?"取消置顶":"置顶"]),!0),K=t("el-button",a()([{},o,{on:{click:function(){return O(n)}}}]),["修改"]),V=!0===n.import&&Object(c["isIncludeStatus"])(n,["UNANNOTATED"]),H=V?t("a",a()([{},o,{on:{click:function(){return f(n)}},attrs:{href:"".concat("http://docs.tianshu.org.cn/docs/","module/dataset/import-dataset"),target:"_blank"},class:"primary"}]),["导入本地数据集 ",t("IconFont",{attrs:{type:"externallink"}})]):null;Object(c["isPublishDataset"])(n)&&(S=!1,P=!1,I=!0,C=!1,k=!1,F=!0,v=!1,U=!0,R=!0),Object(c["isPresetDataset"])(n.type)&&(S=!1,P=!1,I=!0,C=!1,k=!1,F=!0,v=!1,U=!1,R=!1),n.import&&(P=!1,C=!1,k=!1,v=!1,I=!1,I=c["annotationMap"].Custom.code===n.annotateType||!Object(c["isIncludeStatus"])(n,["AUTO_ANNOTATING","UNSAMPLED","SAMPLING","SAMPLE_FAILED","TRACKING","ENHANCING","IMPORTING"]));var B=function(t){var e=0;return t.forEach((function(t){t&&(e+=1)})),e},X=[s,S,P,I,C,k],x=[F,v,U,R],J=B(X),q=B(x),z=t("el-dropdown",{attrs:{placement:"bottom"}},[t("el-button",a()([{},o]),["更多",t("i",{class:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{slot:"dropdown"},[t("el-dropdown-item",[F&&L]),t("el-dropdown-item",{key:"edit"},[R&&K])])]),Q=t("span",[F&&L,v&&_,R&&K]),W=null;return W=J+q<6?Q:z,t("span",[s&&y,H,S&&w,P&&G,I&&m,k&&g,W])}}});return t("el-table-column",y)}}}}]);