(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["dataset-list","dataset-components-tenant","dataset-list-auto-annotate","dataset-list-action","dataset-list-auto-annotate-filter","dataset-list-data-enhance","dataset-list-publish","dataset-list-status","dataset-list-track","dataset-style-list-scss"],{"179d":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-vertical-align"},[r("div",{staticClass:"mr-4 f14"},[t._v("切换场景：")]),t._v(" "),r("InfoSelect",{attrs:{clearable:!1,width:"150px",dataSource:t.datasetListTypeOptions},on:{change:t.handleChange},model:{value:t.state.datasetListType,callback:function(e){t.$set(t.state,"datasetListType",e)},expression:"state.datasetListType"}})],1)},o=[],a=r("ed09"),i=r("ba8f"),l=r("3da5"),c={name:"TenantSelector",components:{InfoSelect:i["a"]},props:{datasetListType:String},setup:function(t,e){var r=e.root.$router,n=[{value:0,label:"视觉/语音/文本"},{value:1,label:"医学影像"},{value:2,label:"点云"}],o=Object(a["n"])({datasetListType:Number(t.datasetListType)}),i=function(t){o.datasetListType=t,localStorage.setItem("datasetListType",o.datasetListType),r.push({path:l["pushUrl"][t]})};return{handleChange:i,datasetListTypeOptions:n,state:o}}},s=c,u=r("2877"),p=Object(u["a"])(s,n,o,!1,null,null,null);e["default"]=p.exports},1973:function(t,e,r){"use strict";r("921d")},"67c9":function(t,e,r){"use strict";r.r(e);var n=r("2638"),o=r.n(n),a=r("3da5");function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e=u(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=p(t,"string");return"symbol"===i(e)?e:String(e)}function p(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={name:"DatasetStatus",functional:!0,render:function(t,e){var r=e.data,n=e.props,i=n.statusList,l=n.filterByDatasetStatus,s=n.datasetStatusFilter,u=["el-icon-arrow-down","el-icon--right"],p="all"===s?null:"primary",f=c(c({},r),{},{scopedSlots:{header:function(){return t("el-dropdown",{attrs:{trigger:"click",size:"medium"}},[t("span",[t("span",o()([{},{class:p}]),["状态"]),t("i",o()([{},{class:u}]))]),t("el-dropdown-menu",{slot:"dropdown"},[i.map((function(e){return t("el-dropdown-item",{key:e.value,nativeOn:{click:function(){return l(e.value)}}},[e.label])}))])])},default:function(e){var r=e.row,n=a["datasetStatusMap"][r.status]||{},i=!n.type&&n.bgColor&&{props:{color:n.bgColor},style:{color:n.color,borderColor:n.bgColor}},l=100===r.dataType?"导入完成":n.name;return t("el-tag",o()([{attrs:{type:n.type}},i]),[l])}}});return t("el-table-column",f)}}},6856:function(t,e,r){"use strict";r.r(e);var n=r("2638"),o=r.n(n),a=r("2ef0"),i=r("3da5");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e=p(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){var e=f(t,"string");return"symbol"===l(e)?e:String(e)}function f(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={name:"DatasetAction",functional:!0,props:{stopRunning:Function,showPublish:Function,uploadDataFile:Function,goDetail:Function,showAutoAnnotate:Function,gotoVersion:Function,showTrack:Function,dataEnhance:Function,topDataset:Function,editDataset:Function,modelTypeList:Array,checkImport:Function},render:function(t,e){var r=e.data,n=e.props,l=n.stopRunning,c=n.showPublish,u=n.uploadDataFile,p=n.goDetail,f=n.showAutoAnnotate,d=n.gotoVersion,h=n.showTrack,m=n.dataEnhance,y=n.topDataset,v=n.editDataset,b=n.checkImport,g=s(s({},r),{},{scopedSlots:{header:function(){return t("span",{class:"ml-10"},["操作"])},default:function(e){var r=e.row,n={props:{type:"text",disabled:r.disabledAction},class:"action-button"},s=Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATING","SAMPLING","TRACKING","ENHANCING"]),g=t("el-button",o()([{},n,{on:{click:function(){return l(r)}}}]),["停止"]),O=!Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATING","UNSAMPLED","SAMPLING","SAMPLE_FAILED","TRACKING","ENHANCING","TRACK_FAILED","IMPORTING"]);r.dataType===i["dataTypeCodeMap"].VIDEO&&Object(i["isStatus"])(r,"AUTO_ANNOTATED")&&(O=!1);var w=Object(i["isCustomDataset"])(r)?t("el-button",o()([{},n,{on:{click:function(){return p(r)}}}]),["查看文件"]):t("el-button",o()([{},n,{on:{click:function(){return p(r)}}}]),["查看与标注"]),T=Object(i["isPublishDataset"])(r)?t("el-tooltip",{attrs:{content:"当前版本生成中，请稍后刷新",placement:"top"}},[t("el-button",o()([{},n]),[t("span",{style:"color: #666; cursor: auto"},["查看与标注"])])]):w,j=Object(i["enableAutoLabel"])(r.annotateType)&&r.dataType!==i["dataTypeCodeMap"].TABLE,S=Object(i["isIncludeStatus"])(r,["UNANNOTATED","ANNOTATING","AUTO_ANNOTATED","ANNOTATED"])&&j,N=(t("el-button",o()([{},n,{on:{click:function(){return f(r)}}}]),["自动标注"]),{on:{onConfirm:function(){return c(r)}}}),A=!1,_=null,x=t("el-popconfirm",o()([{attrs:{"popper-class":"reannotate-popconfirm",placement:"bottom",title:"提示：自动标注已完成，尚未进行人工确认，是否发布？",width:"200"}},N]),[t("el-button",o()([{slot:"reference"},n]),["发布"])]),L=t("el-button",o()([{},n,{on:{click:function(){return c(r)}}}]),["发布"]);Object(i["isStatus"])(r,"AUTO_ANNOTATED")?[i["dataTypeCodeMap"].IMAGE,i["dataTypeCodeMap"].TEXT,i["dataTypeCodeMap"].TABLE,i["dataTypeCodeMap"].AUDIO].includes(r.dataType)&&(A=!0,_=x):Object(i["isStatus"])(r,"ANNOTATED")?[i["dataTypeCodeMap"].IMAGE,i["dataTypeCodeMap"].TEXT,i["dataTypeCodeMap"].TABLE,i["dataTypeCodeMap"].AUDIO,i["dataTypeCodeMap"].VIDEO].includes(r.dataType)&&(A=!0,_=L):Object(i["isStatus"])(r,"TRACK_SUCCEED")&&(A=!0,_=L),[i["dataTypeCodeMap"].TEXT,i["dataTypeCodeMap"].TABLE].includes(r.dataType)&&!Object(a["isNil"])(r.currentVersionName)&&(A=!1);var E=!1,k=t("el-button",o()([{},n,{on:{click:function(){return u(r)}}}]),["导入"]);Object(i["isIncludeStatus"])(r,["SAMPLING","AUTO_ANNOTATING","ENHANCING","TRACKING","IMPORTING"])||(E=!0);var P=r.annotateType===i["annotationMap"].ObjectTracking.code&&Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATED","ANNOTATED","TRACK_FAILED","TRACK_SUCCEED"]),I=t("el-button",o()([{},n,{on:{click:function(){return h(r)}}}]),["目标跟踪"]),D=r.dataType===i["dataTypeCodeMap"].IMAGE&&Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATED","ANNOTATED"]),C=t("el-button",o()([{},n,{on:{click:function(){return m(r)}}}]),["数据增强"]),G=r.currentVersionName&&!Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATING","ENHANCING","TRACKING","IMPORTING"]),M=t("el-button",o()([{},n,{on:{click:function(){return d(r)}}}]),["历史版本"]),F=!0,R=(t("el-button",o()([{},n,{on:{click:function(){return y(r)}}}]),[r.top?"取消置顶":"置顶"]),!0),$=t("el-button",o()([{},n,{on:{click:function(){return v(r)}}}]),["修改"]),U=!0===r.import&&Object(i["isIncludeStatus"])(r,["UNANNOTATED"]),K=U?t("a",o()([{},n,{on:{click:function(){return b(r)}},attrs:{href:"".concat("http://docs.tianshu.org.cn/docs/","module/dataset/import-dataset"),target:"_blank"},class:"primary"}]),["导入本地数据集 ",t("IconFont",{attrs:{type:"externallink"}})]):null;Object(i["isPublishDataset"])(r)&&(A=!1,E=!1,O=!0,S=!1,P=!1,G=!0,D=!1,F=!0,R=!0),Object(i["isPresetDataset"])(r.type)&&(A=!1,E=!1,O=!0,S=!1,P=!1,G=!0,D=!1,F=!1,R=!1),r.import&&(E=!1,S=!1,P=!1,D=!1,O=!1,O=i["annotationMap"].Custom.code===r.annotateType||!Object(i["isIncludeStatus"])(r,["AUTO_ANNOTATING","UNSAMPLED","SAMPLING","SAMPLE_FAILED","TRACKING","ENHANCING","IMPORTING"]));var B=function(t){var e=0;return t.forEach((function(t){t&&(e+=1)})),e},V=[s,A,E,O,S,P],H=[G,D,F,R],q=B(V),Q=B(H),z=t("el-dropdown",{attrs:{placement:"bottom"}},[t("el-button",o()([{},n]),["更多",t("i",{class:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{slot:"dropdown"},[t("el-dropdown-item",[G&&M]),t("el-dropdown-item",{key:"edit"},[R&&$])])]),Y=t("span",[G&&M,D&&C,R&&$]),J=null;return J=q+Q<6?Y:z,t("span",[s&&g,K,A&&_,E&&k,O&&T,P&&I,J])}}});return t("el-table-column",g)}}},"6b8a":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseModal",{attrs:{visible:t.visible,loading:t.loading,title:"数据集增强"},on:{change:t.handleCancel,ok:t.handleDataEnhance}},[r("el-form",{ref:"formRef",attrs:{model:t.state.model,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"数据集名称",prop:"name"}},[r("el-input",{attrs:{disabled:"",value:t.state.model.name}})],1),t._v(" "),r("el-form-item",{attrs:{label:"当前版本",prop:"currentVersionName"}},[r("el-input",{attrs:{disabled:"",value:t.state.model.currentVersionName||"无"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"文件数量",prop:"fileCount"}},[r("el-input",{attrs:{disabled:""},model:{value:t.state.fileCount,callback:function(e){t.$set(t.state,"fileCount",e)},expression:"state.fileCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"增强类型",prop:"types"}},[r("InfoSelect",{attrs:{placeholder:"选择增强类型（支持多选）",dataSource:t.state.enhanceList||[],multiple:""},on:{change:t.handleLabelChange},model:{value:t.state.types,callback:function(e){t.$set(t.state,"types",e)},expression:"state.types"}})],1)],1)],1)},o=[],a=r("ed09"),i=r("f109"),l=r("ba8f"),c=r("141b");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,r){return t[e]=r}}function p(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return n(i,"_invoke",{value:j(t,r,l)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(E){return{type:"throw",arg:E}}}t.wrap=p;var d={};function h(){}function m(){}function y(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==e&&r.call(g,a)&&(v=g);var O=y.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function o(n,a,i,l){var c=f(t[n],t,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==s(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,i,l)}),(function(t){o("throw",t,i,l)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return o("throw",t,i,l)}))}l(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=y,n(O,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,i,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(O),c(O,l,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function p(t,e,r,n,o,a,i){try{var l=t[a](i),c=l.value}catch(s){return void r(s)}l.done?e(c):Promise.resolve(c).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){p(a,n,o,i,l,"next",t)}function l(t){p(a,n,o,i,l,"throw",t)}i(void 0)}))}}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e=y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=v(t,"string");return"symbol"===s(e)?e:String(e)}function v(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var b={name:"DataEnhance",components:{BaseModal:i["a"],InfoSelect:l["a"]},props:{visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},handleCancel:Function,handleOk:Function,row:{type:Object,default:function(){return{}}}},setup:function(t){var e=t.handleOk,r=Object(a["o"])(null),n={types:[{required:!0,message:"请选择增强类型",trigger:["change","blur"]}]},o=[],i=function(t,e){return h(h({},t),e)},l=Object(a["n"])({model:i(t.row,{types:o}),enhanceList:[],types:o,fileCount:void 0}),s=function(t){Object.assign(l,{types:t,model:i(l.model,{types:t})})},p=function(){r.value.validate((function(r){return!!r&&(e(l.model,t.row),null)}))};return Object(a["k"])(f(u().mark((function t(){var e,r,n,o,a;return u().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["r"])();case 2:e=t.sent,r=e||{},n=r.dictDetails,o=void 0===n?[]:n,a=o.map((function(t){return{label:t.label,value:t.value}})),Object.assign(l,{enhanceList:a});case 6:case"end":return t.stop()}}),t)})))),Object(a["r"])((function(){return t.row}),(function(t){Object.assign(l,{model:h(h({},l.model),t)})})),Object(a["r"])((function(){return t.visible}),(function(e){e&&Object(c["n"])(t.row.id).then((function(t){Object.assign(l,{fileCount:t})}))})),{rules:n,formRef:r,handleLabelChange:s,handleDataEnhance:p,state:l}}},g=b,O=r("2877"),w=Object(O["a"])(g,n,o,!1,null,null,null);e["default"]=w.exports},"6c99":function(t,e,r){"use strict";r.d(e,"e",(function(){return i})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"f",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"i",(function(){return f})),r.d(e,"h",(function(){return d})),r.d(e,"d",(function(){return h}));var n=r("b775"),o=r("f121");function a(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/list"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/running/list"),method:"get",params:t})}function l(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/files/annotations/auto"),method:"post",data:t})}function c(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service"),method:"post",data:t})}function s(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/").concat(t),method:"get"})}function p(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service"),method:"delete",data:{ids:t}})}function f(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/stop/").concat(t),method:"put"})}function d(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/start/").concat(t),method:"put"})}function h(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/label/service/pods/").concat(t),method:"get"})}e["b"]={list:a,add:c,del:p}},"7c52":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("collapse-box",{ref:"collapseBoxRef",attrs:{title:"高级设置"},scopedSlots:t._u([{key:"content",fn:function(){return[r("el-form",{ref:"formRef",staticClass:"auto-annotate-filter-form",attrs:{model:t.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"文件标注信息",name:"status"}},[r("InfoRadio",{attrs:{value:t.form.status,dataSource:t.fileStatusOptions,labelKey:"name",valueKey:"code"},on:{change:t.handleStatusChange}})],1)],1)]},proxy:!0}])})},o=[],a=r("ed09"),i=r("1020"),l=r("ccc3"),c=r("3da5"),s=Object(a["c"])({name:"AutoAnnotateFilter",components:{CollapseBox:i["a"],InfoRadio:l["a"]},model:{event:"update:value"},props:{value:{type:[String,Number]}},setup:function(t,e){var r=e.emit,n=Object(a["o"])(null),o=Object(a["n"])({status:t.value}),i=Object(a["a"])((function(){return[{code:c["fileCodeMap"].ALL,name:"不限"}].concat([{code:c["fileCodeMap"].NO_ANNOTATION,name:"无标注信息"},{code:c["fileCodeMap"].HAVE_ANNOTATION,name:"有标注信息"}])})),l=function(t){r("update:value",t)};return Object(a["s"])((function(){Object.assign(o,{status:t.value})})),{form:o,formRef:n,fileStatusOptions:i,handleStatusChange:l}}}),u=s,p=(r("1973"),r("2877")),f=Object(p["a"])(u,n,o,!1,null,"6a7e722c",null);e["default"]=f.exports},"90c4":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseModal",{attrs:{visible:t.visible,loading:t.loading,title:"目标跟踪"},on:{change:t.handleCancel,ok:t.handleOk}},[r("el-form",{ref:"formRef",attrs:{model:t.state.model,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"数据集名称",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:t.state.model.name,callback:function(e){t.$set(t.state.model,"name",e)},expression:"state.model.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"数据类型",prop:"dataType"}},[r("InfoSelect",{attrs:{placeholder:"数据类型",dataSource:t.dataTypeList,disabled:""},model:{value:t.state.model.dataType,callback:function(e){t.$set(t.state.model,"dataType",e)},expression:"state.model.dataType"}})],1),t._v(" "),t.state.model.import?t._e():r("el-form-item",{attrs:{label:"模型类型",prop:"annotateType"}},[r("InfoSelect",{attrs:{dataSource:t.annotationList,disabled:""},model:{value:t.state.model.annotateType,callback:function(e){t.$set(t.state.model,"annotateType",e)},expression:"state.model.annotateType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"标注服务",prop:"labelService"}},[r("InfoSelect",{attrs:{placeholder:"请选择标注服务",dataSource:t.serviceList,labelKey:"name",valueKey:"id","no-data-text":"暂无可用的标注服务"},model:{value:t.state.model.labelService,callback:function(e){t.$set(t.state.model,"labelService",e)},expression:"state.model.labelService"}})],1)],1)],1)},o=[],a=r("ed09"),i=r("2ef0"),l=r("f109"),c=r("ba8f"),s=r("3da5"),u=r("6c99");function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return n(i,"_invoke",{value:j(t,r,l)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(E){return{type:"throw",arg:E}}}t.wrap=s;var d={};function h(){}function m(){}function y(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==e&&r.call(g,a)&&(v=g);var O=y.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function o(n,a,i,l){var c=u(t[n],t,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==p(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,l)}),(function(t){o("throw",t,i,l)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,l)}))}l(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=y,n(O,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,i,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(O),c(O,l,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function d(t,e,r,n,o,a,i){try{var l=t[a](i),c=l.value}catch(s){return void r(s)}l.done?e(c):Promise.resolve(c).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){d(a,n,o,i,l,"next",t)}function l(t){d(a,n,o,i,l,"throw",t)}i(void 0)}))}}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e=b(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=g(t,"string");return"symbol"===p(e)?e:String(e)}function g(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var O={name:"Track",components:{BaseModal:l["a"],InfoSelect:c["a"]},props:{visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},handleCancel:Function,row:{type:Object,default:function(){}}},setup:function(t,e){var r=e.emit,n=Object(a["o"])(null),o=Object(a["o"])([]),l={labelService:[{required:!0,message:"请选择标注服务",trigger:["change","blur"]}]},c=["id","name","dataType","annotateType"],p=function(t,e){return y(y({},Object(i["pick"])(t,c)),e)},d=Object(a["n"])({model:p(t.row,{labelService:null})}),m=Object(a["a"])((function(){return Object.keys(s["dataTypeMap"]).map((function(t){return{label:s["dataTypeMap"][t],value:Number(t)}}))})),v=function(){var t=h(f().mark((function t(){return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["e"])({modelType:d.model.annotateType});case 3:o.value=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),o.value=[];case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),b=function(){n.value.validate().then((function(t){t&&r("ok",d.model)})).catch((function(t){}))};return Object(a["r"])((function(){return t.row}),(function(t){Object.assign(d,{model:y(y({},d.model),Object(i["pick"])(t,c))}),t&&v()})),{formRef:n,rules:l,state:d,dataTypeList:m,annotationList:s["annotationList"],serviceList:o,handleOk:b}}},w=O,T=r("2877"),j=Object(T["a"])(w,n,o,!1,null,null,null);e["default"]=j.exports},"921d":function(t,e,r){},9354:function(t,e,r){"use strict";e["a"]={data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()>(new Date).setHours(23,59,59,999)}}}}}},"983a":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseModal",{attrs:{visible:t.visible,loading:t.loading,title:"自动标注"},on:{change:t.handleCancel,ok:t.handleOk}},[r("el-form",{ref:"formRef",attrs:{model:t.state.model,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"数据集名称",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:t.state.model.name,callback:function(e){t.$set(t.state.model,"name",e)},expression:"state.model.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"数据类型",prop:"dataType"}},[r("InfoSelect",{attrs:{placeholder:"数据类型",dataSource:t.dataTypeList,disabled:""},model:{value:t.state.model.dataType,callback:function(e){t.$set(t.state.model,"dataType",e)},expression:"state.model.dataType"}})],1),t._v(" "),t.state.model.import?t._e():r("el-form-item",{attrs:{label:"模型类型",prop:"annotateType"}},[r("InfoSelect",{attrs:{dataSource:t.annotationList,disabled:""},model:{value:t.state.model.annotateType,callback:function(e){t.$set(t.state.model,"annotateType",e)},expression:"state.model.annotateType"}})],1),t._v(" "),t.showlabelGroup?r("el-form-item",{staticStyle:{height:"32px"},attrs:{label:"标签组"}},[null!==t.state.model.labelGroupId?r("el-link",{staticClass:"vm",attrs:{target:"_blank",underline:!1,href:(t.__IN_CLOUD__?"/"+t.appName:"#")+"/data/labelgroup/detail?id="+t.state.model.labelGroupId}},[t._v("\n        "+t._s(t.state.model.labelGroupName)+"\n      ")]):t._e()],1):t._e(),t._v(" "),r("el-form-item",{attrs:{label:"标注服务",prop:"labelService"}},[r("InfoSelect",{attrs:{placeholder:"请选择标注服务",dataSource:t.serviceList,labelKey:"name",valueKey:"id","no-data-text":"暂无可用的标注服务"},model:{value:t.state.model.labelService,callback:function(e){t.$set(t.state.model,"labelService",e)},expression:"state.model.labelService"}})],1),t._v(" "),r("el-form-item",{attrs:{label:" "}},[r("AutoAnnotateFilter",{model:{value:t.state.model.status,callback:function(e){t.$set(t.state.model,"status",e)},expression:"state.model.status"}})],1)],1)],1)},o=[],a=r("ed09"),i=r("2ef0"),l=r("f109"),c=r("ba8f"),s=r("3da5"),u=r("6c99"),p=r("7c52");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return n(i,"_invoke",{value:j(t,r,l)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(E){return{type:"throw",arg:E}}}t.wrap=s;var p={};function h(){}function m(){}function y(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==e&&r.call(g,a)&&(v=g);var O=y.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function o(n,a,i,l){var c=u(t[n],t,a);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==f(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,i,l)}),(function(t){o("throw",t,i,l)})):e.resolve(p).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,l)}))}l(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=y,n(O,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,i,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(O),c(O,l,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function h(t,e,r,n,o,a,i){try{var l=t[a](i),c=l.value}catch(s){return void r(s)}l.done?e(c):Promise.resolve(c).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,l,"next",t)}function l(t){h(a,n,o,i,l,"throw",t)}i(void 0)}))}}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return e=g(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t){var e=O(t,"string");return"symbol"===f(e)?e:String(e)}function O(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var w={name:"AutoAnnotate",components:{BaseModal:l["a"],InfoSelect:c["a"],AutoAnnotateFilter:p["default"]},props:{visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},handleCancel:Function,row:{type:Object,default:function(){}}},setup:function(t,e){var r=e.emit,n=Object(a["o"])(null),o=Object(a["o"])([]),l={labelService:[{required:!0,message:"请选择标注服务",trigger:["change","blur"]}]},c=["id","name","dataType","annotateType","labelGroupId","labelGroupName"],p=function(t,e){return v(v({},Object(i["pick"])(t,c)),e)},f=Object(a["n"])({model:p(t.row,{labelService:null,status:s["fileCodeMap"].NO_ANNOTATION})}),h=Object(a["a"])((function(){return Object(s["enableLabelGroup"])(f.model.annotateType)&&!f.model.import})),y=Object(a["a"])((function(){return Object.keys(s["dataTypeMap"]).map((function(t){return{label:s["dataTypeMap"][t],value:Number(t)}}))})),b=function(){var t=m(d().mark((function t(){var e;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=f.model.annotateType===s["annotationMap"].ObjectTracking.code?s["annotationMap"].ObjectDetection.code:f.model.annotateType,t.next=4,Object(u["e"])({modelType:e});case 4:o.value=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),o.value=[];case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),g=function(){n.value.validate().then((function(t){t&&r("ok",f.model)})).catch((function(t){}))};return Object(a["r"])((function(){return t.row}),(function(t){Object.assign(f,{model:v(v({},f.model),Object(i["pick"])(t,c))}),t&&b()})),{formRef:n,rules:l,state:f,showlabelGroup:h,dataTypeList:y,annotationList:s["annotationList"],serviceList:o,handleOk:g}}},T=w,j=r("2877"),S=Object(j["a"])(T,n,o,!1,null,null,null);e["default"]=S.exports},a919:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return c}));var n=r("b775"),o=r("f121");function a(t,e){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/files/").concat(e,"/annotations"),method:"post",data:t})}function i(t,e){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/files/annotations/auto/track/").concat(t,"/").concat(e),method:"get"})}function l(t){return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/").concat(t),method:"get"})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])({url:"/".concat(o["a"].DATA,"/datasets/versions"),method:"post",data:t})}},c9b0:function(t,e,r){"use strict";r.r(e);var n,o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"head-container"},[r("cdOperation",{attrs:{addProps:t.operationProps}},[r("el-button",{staticClass:"filter-item",staticStyle:{display:"none"},attrs:{slot:"left",type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.createDatasetVisible=!0}},slot:"left"},[t._v("\n        A\n      ")]),t._v(" "),r("span",{staticStyle:{display:"none"},attrs:{slot:"right"},slot:"right"},[r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"输入名称或ID查询"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.crud.toQuery(e)}},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}}),t._v(" "),r("el-date-picker",{staticClass:"date-item",attrs:{"default-time":["00:00:00","23:59:59"],type:"daterange","value-format":"timestamp","range-separator":":","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.query.createTime,callback:function(e){t.$set(t.query,"createTime",e)},expression:"query.createTime"}}),t._v(" "),r("rrOperation",{on:{resetQuery:t.onResetQuery}})],1)],1)],1),t._v(" "),r("CreateDataset",{attrs:{visible:t.createDatasetVisible,toggleVisible:t.closeCreateDatasetForm,onResetFresh:t.onResetFresh}}),t._v(" "),r("UploadDataFile",{attrs:{row:t.importRow,visible:t.uploadDataFileVisible,closeUploadDataFile:t.closeUploadDataFile,hideUploadDataFile:t.hideUploadDataFile}}),t._v(" "),r("div",{staticClass:"mb-10 flex flex-between"},[r("div"),t._v(" "),r("div",{staticClass:"flex flex-vertical-align"},[r("el-tooltip",{attrs:{effect:"dark",content:"刷新",placement:"top"}},[r("el-button",{staticClass:"filter-item with-border",staticStyle:{padding:"8px"},attrs:{icon:"el-icon-refresh"},on:{click:t.onResetFresh}})],1)],1)]),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.crud.loading,expression:"crud.loading"}],ref:"table",staticStyle:{display:"none"},attrs:{data:t.crud.data,"highlight-current-row":"","row-class-name":t.tableTopRowClass},on:{"selection-change":t.crud.selectionChangeHandler,"sort-change":t.crud.sortChange,"current-change":t.handleCurrentChange}},[r("el-table-column",{attrs:{fixed:"",type:"selection","min-width":"40",selectable:t.canSelect}}),t._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"id",width:"88",label:"ID",sortable:"custom",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("\n          "+t._s(e.row.id)+"\n          "),t.isImport(e.row)?r("span",{staticClass:"ml-10 cp"},[r("copy-to-clipboard",{attrs:{text:String(e.row.id)},on:{copy:function(r,n){return t.handleCopy(r,n,e.row)}}},[r("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("br")]),t._v(" "),r("i",{class:e.row.copySuccess?"el-icon-success success":"el-icon-copy-document"})])],1)],1):t._e()])]}}])}),t._v(" "),r("el-table-column",{attrs:{fixed:"","show-overflow-tooltip":"",prop:"name",label:"A","min-width":"160",align:"left","class-name":"dataset-name-col"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-link",{staticClass:"mr-10 name-col",attrs:{type:"primary"},on:{click:function(r){return t.goDetail(e.row)}}},[t._v(t._s(e.row.name))]),t._v(" "),r("Edit",{staticClass:"edit-icon",attrs:{row:e.row,valueBy:"name",title:"GD"},on:{handleOk:t.handleEditDatasetName}})]}}])}),t._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"dataType",formatter:t.parseDataType,width:"100",align:"left"}},[r("template",{slot:"header"},[r("dropdown-header",{attrs:{title:"B",list:t.dataTypeList,filtered:!t.isNil(t.dataType)},on:{command:function(e){return t.filter("dataType",e)}}})],1)],2),t._v(" "),r("el-table-column",{attrs:{prop:"progress","min-width":"200",label:"AF",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.progress?r("div",{staticClass:"flex progress-wrap"},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.row.pollIng,expression:"scope.row.pollIng"}],staticClass:"el-icon-loading"}),t._v(" "),r("el-popover",{attrs:{placement:"top-start",trigger:"hover","popper-class":"f1"}},[r("TableTooltip",{attrs:{className:"progress-tip",keys:t.progressKeys(e.row),data:e.row.progress,annotateType:e.row.annotateType,keyAccessor:t.keyAccessor,valueAccessor:t.valueAccessor}}),t._v(" "),r("el-progress",{attrs:{slot:"reference",percentage:t.getProgress(e.row)||0,color:t.progressFill(e.row.status),format:function(r){return t.progressFormat(e.row,r)}},slot:"reference"})],1)],1):r("div",{staticClass:"flex progress-wrap"},[r("i",{staticClass:"el-icon-loading"}),t._v(" "),r("span",[r("el-progress",{attrs:{slot:"reference",percentage:0},slot:"reference"})],1)])]}}])}),t._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"annotateType",formatter:t.parseAnnotateType,align:"left","min-width":"120"}},[r("template",{slot:"header"},[r("dropdown-header",{attrs:{title:"C",list:t.annotateTypeList,filtered:!t.isNil(t.annotateType)},on:{command:function(e){return t.filter("annotateType",e)}}})],1)],2),t._v(" "),r("Status",{attrs:{prop:"status","min-width":"115",label:"D",align:"left",statusList:t.statusList,filterByDatasetStatus:t.filterByDatasetStatus,datasetStatusFilter:t.datasetStatusFilter}}),t._v(" "),r("el-table-column",{attrs:{prop:"currentVersionName","min-width":"80",label:"AC",align:"left"}}),t._v(" "),r("el-table-column",{attrs:{prop:"updateTime","min-width":"160",label:"F",formatter:t.formatDate,sortable:"custom",align:"left"}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark","min-width":"200",label:"AD",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{attrs:{content:e.row.remark,enterable:"",placement:"top"}},[r("div",{staticClass:"ellipsis dib ",staticStyle:{"max-width":"100%"}},[t._v("\n            "+t._s(e.row.remark)+"\n          ")])])]}}])}),t._v(" "),r("Action",{attrs:{fixed:"right","min-width":"330",align:"left",stopRunning:t.stopRunning,showPublish:t.showPublish,uploadDataFile:t.showUploadDataFile,goDetail:t.goDetail,gotoVersion:t.gotoVersion,showTrack:t.showTrack,dataEnhance:t.showDataEnhance,topDataset:t.topDataset,editDataset:t.showEditDataset,showAutoAnnotate:t.showAutoAnnotate,checkImport:t.checkImport,modelTypeList:t.modelTypeList}})],1),t._v(" "),r("el-pagination",{staticStyle:{"margin-top":"8px"},style:"text-align:"+t.crud.props.paginationAlign+";",attrs:{"page-size":t.crud.page.size,"page-sizes":[10,20,50],total:t.crud.page.total,"current-page":t.crud.page.current,layout:"total, prev, pager, next, sizes"},on:{"update:pageSize":function(e){return t.$set(t.crud.page,"size",e)},"update:page-size":function(e){return t.$set(t.crud.page,"size",e)},"update:currentPage":function(e){return t.$set(t.crud.page,"current",e)},"update:current-page":function(e){return t.$set(t.crud.page,"current",e)},"size-change":function(e){return t.crud.sizeChangeHandler(e)},"current-change":t.crud.pageChangeHandler}}),t._v(" "),r("BaseModal",{attrs:{visible:t.actionModal.show&&"publish"===t.actionModal.type,loading:t.actionModal.showOkLoading,title:"G"},on:{change:t.handleCancel,ok:function(e){return t.handlePublish(t.actionModal.row)}}},[t.actionModal.row?r("Publish",{ref:"publishForm",attrs:{row:t.actionModal.row}}):t._e()],1),t._v(" "),r("DataEnhance",{key:t.enhanceKey,attrs:{visible:t.actionModal.show&&"dataEnhance"===t.actionModal.type,loading:t.actionModal.showOkLoading,row:t.actionModal.row,handleCancel:t.handleCancel,handleOk:t.handleDataEnhance}}),t._v(" "),r("EditDataset",{key:t.editKey,attrs:{visible:t.actionModal.show&&"editDataset"===t.actionModal.type,loading:t.actionModal.showOkLoading,row:t.actionModal.row,handleCancel:t.handleCancel,handleOk:t.handleEditDataset}}),t._v(" "),r("AutoAnnotate",{key:"autoAnnotate_"+t.autoAnnotateKey,attrs:{visible:t.actionModal.show&&"autoAnnotate"===t.actionModal.type,loading:t.actionModal.showOkLoading,row:t.actionModal.row,handleCancel:t.handleCancel},on:{ok:t.handleAutoAnnotate}}),t._v(" "),r("Track",{key:"track_"+t.trackKey,attrs:{visible:t.actionModal.show&&"track"===t.actionModal.type,loading:t.actionModal.showOkLoading,row:t.actionModal.row,handleCancel:t.handleCancel},on:{ok:t.handleTrack}})],1)},a=[],i=r("ed09"),l=r("5c96"),c=r("2ef0"),s=r("2f62"),u=r("b384"),p=r.n(u),f=r("c6db"),d=r("4f59"),h=r("5897"),m=r("a919"),y=r("141b"),v=r("6c99"),b=r("9354"),g=r("3da5"),O=r("e3a3"),w=r("f109"),T=r("aaa4"),j=r("ed08"),S=r("60fe"),N=r("d294"),A=r("4360"),_=r("179d"),x=r("8599"),L=r("67c9"),E=r("6856"),k=r("e3d8"),P=r("6b8a"),I=r("f5bf"),D=r("983a"),C=r("90c4"),G=r("65e9");r("d744");function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof f?e:f,i=Object.create(a.prototype),l=new N(o||[]);return n(i,"_invoke",{value:w(t,r,l)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=s;var p={};function f(){}function d(){}function h(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(A([])));v&&v!==e&&r.call(v,a)&&(m=v);var b=h.prototype=f.prototype=Object.create(m);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(n,a,i,l){var c=u(t[n],t,a);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==M(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,i,l)}),(function(t){o("throw",t,i,l)})):e.resolve(p).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,l)}))}l(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return _()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=T(i,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function T(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=h,n(b,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=c(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(O.prototype),c(O.prototype,i,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function R(t,e,r,n,o,a,i){try{var l=t[a](i),c=l.value}catch(s){return void r(s)}l.done?e(c):Promise.resolve(c).then(n,o)}function $(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){R(a,n,o,i,l,"next",t)}function l(t){R(a,n,o,i,l,"throw",t)}i(void 0)}))}}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return e=V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V(t){var e=H(t,"string");return"symbol"===M(e)?e:String(e)}function H(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var q={id:null,name:null,dataType:null,annotateType:null,presetLabelType:"",remark:"",type:0},Q=Object(g["annotationBy"])("code"),z=function(t){return t.import},Y=function(t){return Object(g["isStatus"])(t,"IMPORTING")},J=Object(c["findKey"])(g["datasetStatusMap"],{status:"ENHANCING"}),X={name:"DataSet",components:{cdOperation:h["a"],rrOperation:d["a"],Edit:O["a"],BaseModal:w["a"],CreateDataset:x["default"],Publish:k["default"],TenantSelector:_["default"],Status:L["default"],Action:E["default"],TableTooltip:N["b"],DataEnhance:P["default"],EditDataset:I["default"],CopyToClipboard:p.a,UploadDataFile:G["default"],DropdownHeader:T["a"],AutoAnnotate:D["default"],Track:C["default"]},beforeRouteEnter:function(t,e,r){0!==Object(g["getDatasetType"])()?r("/data/datasets"):(t.meta.activeMenu="/data/datasets",r())},cruds:function(){return Object(f["b"])({title:"BT",crudMethod:K({},y["e"]),optShow:{add:!1},queryOnPresenterCreated:!1})},mixins:[Object(f["f"])(),Object(f["d"])(),Object(f["c"])(q),Object(f["a"])(),b["a"]],data:function(){return{chosenDatasetId:0,chosenDatasetStatus:0,createDatasetVisible:!1,uploadDataFileVisible:!1,enhanceKey:1e3,editKey:1,autoAnnotateKey:1,trackKey:1,currentRow:null,annotateType:null,dataType:null,datasetStatusFilter:"all",datasetListType:"0",actionModal:{show:!1,row:void 0,showOkLoading:!1,type:null},importRow:null,autoTimer:{},decompressStateMap:g["decompressProgressMap"],datasetStatusMap:g["datasetStatusMap"]}},computed:K(K({},Object(s["e"])({activePanel:function(t){return String(t.dataset.activePanel)}})),{},{isImport:function(){return z},isImportDataset:function(){return Y},isNil:function(){return c["isNil"]},localQuery:function(){return{type:this.activePanel||0}},annotateTypeList:function(){return[{label:"全部",value:null}].concat(g["annotationList"])},dataTypeList:function(){var t=Object.keys(g["dataTypeMap"]).map((function(t){return{label:g["dataTypeMap"][t],value:Number(t)}}));return[{label:"全部",value:null}].concat(t)},statusList:function(){var t=Object.keys(g["rankDatasetStatusMap"]).map((function(t){return{label:g["datasetStatusMap"][t].name,value:Number(t)}}));return[{label:"全部",value:"all"}].concat(t)},operationProps:function(){return Object(g["isPresetDataset"])(this.activePanel)?{disabled:!0}:void 0},VUE_APP_DOCS_URL:function(){return"http://docs.tianshu.org.cn/docs/"}}),watch:{"crud.data":function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length>0&&(r.length!==t.length||!Object(j["lb"])(r,t,"id")||r.some((function(t){return t.pollIng})))){var n=t.filter((function(t){return Object(g["isStatus"])(t,"AUTO_ANNOTATING")})),o=t.filter((function(t){return Object(g["isStatus"])(t,"SAMPLING")})),a=t.filter((function(t){return Object(g["isStatus"])(t,"TRACKING")})),i=t.filter((function(t){return Object(g["isStatus"])(t,"ENHANCING")})),l=t.filter(g["isPublishDataset"]),c=t.filter(Y),s=n.concat(o,a,i,c,l);Promise.all(s.map((function(t){var r;return e.$set(t,"pollIng",!0),Object(g["isIncludeStatus"])(t,["SAMPLING","ENHANCING","TRACKING"])&&e.$set(t,"sample_progress",10),Y(t)&&e.$set(t,"pollType","IMPORTING"),Object(g["isPublishDataset"])(t)&&e.$set(t,"pollType","PUBLISHING"),e.poll(t,t.pollType||(null===(r=g["datasetStatusMap"][t.status])||void 0===r?void 0:r.status))})))}}},created:function(){this.pollDone=!1,this.crud.toQuery()},mounted:function(){var t=this;"add"===this.$route.params.type&&setTimeout((function(){t.crud.toAdd()}),500)},beforeDestroy:function(){var t=this;Object.keys(this.autoTimer).forEach((function(e){return clearTimeout(t.autoTimer[e])}))},methods:(n={progressKeys:function(t){var e=Object.keys(g["annotationProgressMap"]);return t.annotateType!==g["annotationMap"].ObjectTracking.code?e.filter((function(t){return"finishAutoTrack"!==t})):e},keyAccessor:function(t){return g["annotationProgressMap"][t]},valueAccessor:function(t,e,r){return r[t]}},B(n,f["b"].HOOK.beforeRefresh,(function(){this.crud.query=K(K({},this.query),this.localQuery)})),B(n,f["b"].HOOK.afterRefresh,(function(){var t=this.crud.data;this.queryRowProgress(t.map((function(t){return t.id})))})),B(n,"tableTopRowClass",(function(t){var e=t.row;return e.top?"table-top-row":""})),B(n,"onResetQuery",(function(){this.query={},this.crud.order=null,this.crud.sort=null,this.crud.params={},this.crud.page.current=1,this.dataType=null,this.datasetStatusFilter="all",this.annotateType=null,this.$refs.table.clearSort()})),B(n,"onResetFresh",(function(){this.onResetQuery(),this.crud.refresh()})),B(n,"queryRowProgress",(function(t){var e=this;0!==t.length&&Object(y["u"])({datasetIds:t}).then((function(t){var r=e.crud.data.map((function(e){var r=t[e.id]||null;return K(K({},e),{},{progress:r})}));Object.assign(e.crud,{data:r})}))})),B(n,"pollRowProgress",(function(t){var e=this;return new Promise((function(r){Object(y["u"])({datasetIds:[t]}).then((function(n){var o=n[t];e.getAllFinished(o)>0&&!1===e.pollDone&&(e.pollDone=!0,r(o))}))}))})),B(n,"updateRow",(function(t,e){var r=e.progress,n=e.info,o=this.crud.data.findIndex((function(e){return e.id===t}));if(o>-1){var a=Object(c["omit"])(K(K(K({},this.crud.data[o]),n),{},{progress:r}),["pollType"]),i=Object(j["Kb"])(this.crud.data,o,a);Object.assign(this.crud,{data:i})}})),B(n,"handlePanelClick",(function(t){this.onResetQuery(),A["a"].dispatch("dataset/togglePanel",Number(t.name)),Object.assign(this.localQuery,{type:Number(t.name)}),this.crud.refresh()})),B(n,"progressFill",(function(t){return t&&g["datasetStatusMap"][t].progressColor?g["datasetStatusMap"][t].progressColor:"#52C41A"})),B(n,"progressFormat",(function(t,e){return Y(t)?"导入中":"".concat(e,"%")})),B(n,"queryDatasetDetail",function(){var t=$(F().mark((function t(e){var r;return F().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["g"])(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()),B(n,"formatDate",(function(t,e,r){return Object(j["Q"])(r)})),B(n,"handleCurrentChange",(function(t){this.currentRow=JSON.parse(JSON.stringify(t))})),B(n,"closeCreateDatasetForm",(function(){this.createDatasetVisible=!1})),B(n,"handleCopy",(function(t,e,r){this.$set(r,"copySuccess",!1),Object.assign(r,{copySuccess:!0}),setTimeout((function(){Object.assign(r,{copySuccess:void 0}),delete r.copySuccess}),1200)})),B(n,"handleEditDatasetName",(function(t,e){var r=this,n={id:e.id,name:t,presetLabelType:-1};Object(y["i"])(n).then((function(){var t;(r.crud.status.edit=f["b"].STATUS.NORMAL,r.$set(e,"name",n.name),e.pollIng)&&r.poll(e,null===(t=g["datasetStatusMap"][e.status])||void 0===t?void 0:t.status)}))})),B(n,"isValidDetail",(function(t){var e=["AUTO_ANNOTATING","UNSAMPLED","SAMPLING","SAMPLE_FAILED","ENHANCING","TRACKING","TRACK_FAILED"];return!Object(g["isIncludeStatus"])(t,e)})),B(n,"goDetail",function(){var t=$(F().mark((function t(e){var r,n,o;return F().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object(g["isCustomDataset"])(e)){t.next=4;break}return r=Q(g["annotationMap"].Custom.code,"urlPrefix"),this.$router.push({path:"/data/datasets/".concat(r,"/").concat(e.id)}),t.abrupt("return",!1);case 4:if(!Object(g["isPublishDataset"])(e)){t.next=7;break}return l["Message"].error("版本切换中，请稍后"),t.abrupt("return",!1);case 7:return t.next=9,this.queryDatasetDetail(e.id);case 9:if(n=t.sent,this.isValidDetail(n)){t.next=12;break}return t.abrupt("return",l["Message"].error("数据集当前状态不能进行查看"));case 12:if(o=Q(e.annotateType,"urlPrefix"),o){t.next=15;break}return t.abrupt("return",!1);case 15:return Object(g["objectDetectionLikeUrl"])(o)?this.$router.push({path:"/data/datasets/".concat(e.id,"/file-management")}):this.$router.push({path:"/data/datasets/".concat(o,"/").concat(e.id)}),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()),B(n,"stopRunning",(function(t){var e=this;return Object(y["z"])(t.id).then((function(){e.$message({message:"进行中的任务已停止",type:"success"})})).catch((function(t){e.$message({message:t.message||"停止失败",type:"error"})})).finally((function(){return e.crud.refresh()}))})),B(n,"gotoVersion",(function(t){this.$router.push({path:"/data/datasets/".concat(t.id,"/version")})})),B(n,"autoAnnotate",(function(t,e){var r=this;return this.$set(t,"pollIng",!0),Object(v["g"])(e).then((function(){r.$message({message:"自动标注任务开始",type:"success"}),r.poll(t,"AUTO_ANNOTATING")})).catch((function(e){t.pollIng=!1,r.$message({message:e.message||"自动标注任务失败",type:"error"})}))})),B(n,"handleAutoAnnotate",(function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.actionModal,{showOkLoading:!0});var r=e.labelService,n=e.id,o=e.status;return this.autoAnnotate(this.actionModal.row,{datasetIds:[n],modelServiceId:r,fileStatus:o}).finally((function(){t.resetActionModal()}))})),B(n,"filter",(function(t,e){this[t]=e,this.crud.params[t]=e,this.crud.page.current=1,this.crud.toQuery()})),B(n,"datasetStatusFilter2Type",(function(t){return"all"===t?null:t})),B(n,"filterByDatasetStatus",(function(t){t!==this.datasetStatusFilter&&(this.datasetStatusFilter=t,this.crud.params.status=this.datasetStatusFilter2Type(t),this.crud.page.current=1,this.crud.refresh())})),B(n,"showUploadDataFile",(function(t){t.dataType===g["dataTypeCodeMap"].TABLE?this.$router.push({name:"TableImport",params:{datasetId:t.id,annotateType:t.annotateType}}):(this.importRow=t,this.uploadDataFileVisible=!0)})),B(n,"closeUploadDataFile",(function(){this.importRow=null,this.uploadDataFileVisible=!1,this.onResetFresh()})),B(n,"hideUploadDataFile",(function(){this.uploadDataFileVisible=!1})),B(n,"getAllFinished",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.finished,r=t.autoFinished,n=t.finishAutoTrack,o=t.annotationNotDistinguishFile;return e+r+n+o})),B(n,"getProgress",(function(t){var e=t.progress;if(Object(g["isIncludeStatus"])(t,["SAMPLING","ENHANCING","TRACKING"]))return Math.min(Math.floor(t.sample_progress),99);if(Object(g["isStatus"])(t,"UNANNOTATED")&&t.sample_progress>0)return 100;if(z(t)&&Object(g["isStatus"])(t,"ANNOTATED"))return 100;var r=this.getAllFinished(e);return 0===r?0:Object(j["Qb"])(r/(r+e.unfinished),2,0)})),B(n,"parseDataType",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g["dataTypeMap"][r]})),B(n,"parseAnnotateType",(function(t,e,r){return Q(r,"name")})),B(n,"parseStatus",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g["datasetStatusMap"][r].name})),B(n,"poll",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(g["isIncludeStatus"])(t,["SAMPLING","ENHANCING","TRACKING"])&&(t.sample_increment=9),this.setTime(t,0,{type:e,callback:r.callback})})),B(n,"setTime",(function(t,e,r){var n=this,o=r.type,a=r.callback;return e>100?(this.autoTimer[t.id]&&clearTimeout(this.autoTimer[t.id]),t.pollIng=!1,Promise.reject(new Error("更新数据集状态超时"))):this.datasetPoll(t,o).then((function(){t.pollIng&&(n.autoTimer[t.id]&&clearTimeout(n.autoTimer[t.id]),n.autoTimer[t.id]=setTimeout((function(){n.setTime(t,e+1,{type:o,callback:a})}),3e3)),"function"===typeof a&&a(t)}))})),B(n,"showUnZip",(function(t){var e;return t.import&&["UNANNOTATED","ANNOTATING","AUTO_ANNOTATED"].includes(null===(e=g["datasetStatusMap"][t.decompressState])||void 0===e?void 0:e.status)})),B(n,"datasetPoll",(function(t,e){var r=this;return"CHECK_STATUS"===e?Object(y["s"])([t.id]).then((function(e){var r=e[t.id];return Object(g["isStatus"])(r,"UNANNOTATED")||(Object.assign(t,r,{pollIng:!1}),delete t.pollType),Promise.resolve(t)})):"IMPORTING"===e?this.queryDatasetDetail(t.id).then((function(r){return t.status=r.status,Object(g["isStatus"])(r,e)||(t.pollIng=!1,t.status=r.status),Promise.resolve(t)})):"PUBLISHING"===e?this.queryDatasetDetail(t.id).then((function(e){return Object(g["isPublishDataset"])(e)||setTimeout((function(){r.pollRowProgress(t.id).then((function(n){t.pollIng=!1,r.updateRow(t.id,{progress:n,info:e})}))}),2e3),Promise.resolve(t)})):["SAMPLING","ENHANCING","TRACKING"].includes(e)?this.queryDatasetDetail(t.id).then((function(r){return Object(g["isStatus"])(t,"TRACKING")&&(t.status=r.status,t.pollIng=!0,t.sample_progress=(t.sample_progress||10)+t.sample_increment,t.sample_increment*=.9),Object(g["isStatus"])(r,e)?(t.sample_progress=(t.sample_progress||10)+t.sample_increment,t.sample_increment*=.9):(t.pollIng=!1,t.progress=r.progress,t.status=r.status,delete t.sample_progress),Promise.resolve(t)})):"AUTO_ANNOTATING"===e?Object(m["a"])(t.id).then((function(e){return Object(c["isNil"])(e.progress)?null:(t.pollIng=!0,t.progress=e.progress,t.status=e.status,Object(g["isStatus"])(t,"TRACKING")?(r.poll(t,"TRACKING"),null):(Object(g["isStatus"])(t,"AUTO_ANNOTATING")||(t.pollIng=!1),Promise.resolve(t)))})):Promise.reject(new Error("数据集 ".concat(t.id," 查询错误")))})),B(n,"canSelect",(function(t){return!!Object(g["isPresetDataset"])(this.activePanel)||(!!t.import||!(t.pollIng||Object(g["isIncludeStatus"])(t,["AUTO_ANNOTATING","SAMPLING","ENHANCING","TRACKING"])))})),B(n,"showActionModal",(function(t,e){this.actionModal={show:!0,row:t,showOkLoading:!1,type:e}})),B(n,"showPublish",(function(t){this.showActionModal(t,"publish")})),B(n,"showDataEnhance",(function(t){this.showActionModal(t,"dataEnhance")})),B(n,"showEditDataset",(function(t){this.showActionModal(t,"editDataset")})),B(n,"showAutoAnnotate",(function(t){this.showActionModal(t,"autoAnnotate")})),B(n,"showTrack",(function(t){this.showActionModal(t,"track")})),B(n,"checkImport",(function(t){var e=this;this.$set(t,"pollIng",!0),this.poll(t,"CHECK_STATUS",{callback:function(r){Object(g["isStatus"])(r,"UNANNOTATED")||(t.pollIng=!0,e.poll(t,"IMPORTING"))}})})),B(n,"resetActionModal",(function(){"dataEnhance"===this.actionModal.type&&(this.enhanceKey+=1),"editDataset"===this.actionModal.type&&(this.editKey+=1),"autoAnnotate"===this.actionModal.type&&(this.autoAnnotateKey+=1),"track"===this.actionModal.type&&(this.trackKey+=1),this.actionModal={show:!1,row:void 0,showOkLoading:!1,type:null}})),B(n,"handleCancel",(function(){this.resetActionModal()})),B(n,"handlePublish",(function(t){var e=this,r=this.$refs.publishForm.$refs.form;r.validate(function(){var r=$(F().mark((function r(n){var o;return F().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n){r.next=6;break}return o=e.$refs.publishForm.state.model,e.resetActionModal(),Object(m["c"])({datasetId:o.id,versionNote:o.versionNote||"",ofRecord:o.ofRecord,format:o.format,containOrigin:o.containOrigin}),setTimeout((function(){e.crud.toQuery(),e.$set(t,"pollIng",!0)}),1e3),r.abrupt("return",!1);case 6:return r.abrupt("return",null);case 7:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())})),B(n,"startTrack",(function(t,e){var r=this;return this.$set(t,"pollIng",!0),Object(m["d"])(t.id,e).then((function(){r.$message({message:"目标跟踪任务开始",type:"success"}),r.poll(t,"TRACKING")})).catch((function(e){t.pollIng=!1,r.$message({message:e.message||"目标跟踪任务失败",type:"error"})}))})),B(n,"handleTrack",(function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.actionModal,{showOkLoading:!0}),this.startTrack(this.actionModal.row,e.labelService).finally((function(){t.resetActionModal()}))})),B(n,"handleDataEnhance",(function(t,e){var r=this;return Object.assign(this.actionModal,{showOkLoading:!0}),Object(y["q"])(t.id,t.types).then((function(){r.$set(e,"status",J),r.$set(e,"pollIng",!0),r.poll(e,"ENHANCING")})).finally((function(){r.resetActionModal()}))})),B(n,"topDataset",(function(t){return Object(y["B"])(t).then(this.onResetFresh)})),B(n,"handleEditDataset",(function(t,e){var r=this;Object.assign(this.actionModal,{showOkLoading:!0});var n=K(K({},Object(c["pick"])(t,["name","labelGroupId","dataType","annotateType","module","remark"])),{},{id:e.id,presetLabelType:"",type:0});return Object(y["i"])(n).then((function(){r.$message({message:"数据集修改成功",type:"success"})})).finally((function(){r.resetActionModal(),r.onResetFresh()}))})),n),setup:function(){var t=Object(i["e"])(S["v"]);return{modelTypeList:t}}},Z=X,W=r("2877"),tt=Object(W["a"])(Z,o,a,!1,null,null,null);e["default"]=tt.exports},d744:function(t,e,r){t.exports={menuBg:"#f3f7ff",menuText:"#666",menuActiveText:"#1890ff"}},e3d8:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"form",attrs:{model:t.state.model,rules:t.rules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"数据集名称",prop:"name"}},[r("el-input",{attrs:{disabled:"",value:t.state.model.name}})],1),t._v(" "),r("el-form-item",{attrs:{label:"当前版本",prop:"currentVersionName"}},[r("el-input",{attrs:{disabled:"",value:t.state.model.currentVersionName||"无"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"下一版本",prop:"nextVersionName"}},[r("el-input",{attrs:{disabled:"",autofocus:!0},model:{value:t.state.model.nextVersionName,callback:function(e){t.$set(t.state.model,"nextVersionName",e)},expression:"state.model.nextVersionName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"版本描述",prop:"versionNote"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"100",rows:"3","show-word-limit":""},model:{value:t.state.model.versionNote,callback:function(e){t.$set(t.state.model,"versionNote",e)},expression:"state.model.versionNote"}})],1)],1)},o=[],a=r("ed09"),i=r("2ef0"),l=r("ba8f"),c=r("141b"),s=r("3da5");function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return n(i,"_invoke",{value:j(t,r,l)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(E){return{type:"throw",arg:E}}}t.wrap=s;var d={};function h(){}function m(){}function y(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==e&&r.call(g,a)&&(v=g);var O=y.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function o(n,a,i,l){var c=f(t[n],t,a);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==u(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,i,l)}),(function(t){o("throw",t,i,l)})):e.resolve(p).then((function(t){s.value=t,i(s)}),(function(t){return o("throw",t,i,l)}))}l(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=y,n(O,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,i,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(O),c(O,l,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function f(t,e,r,n,o,a,i){try{var l=t[a](i),c=l.value}catch(s){return void r(s)}l.done?e(c):Promise.resolve(c).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){f(a,n,o,i,l,"next",t)}function l(t){f(a,n,o,i,l,"throw",t)}i(void 0)}))}}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e=v(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t){var e=b(t,"string");return"symbol"===u(e)?e:String(e)}function b(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var g={name:"Publish",components:{InfoSelect:l["a"]},props:{row:{type:Object,default:function(){}}},setup:function(t){var e={nextVersionName:[{required:!0,message:"请输入",trigger:"change"}]},r=Object(a["a"])((function(){return Object(s["isImageOrVideoItem"])(t.row)})),n=Object(a["n"])({model:m(m({},Object(i["pick"])(t.row,["name","currentVersionName","id"])),{},{versionNote:void 0,nextVersionName:void 0})}),o=function(t){Object.assign(n.model,{format:t})};return Object(a["k"])(d(p().mark((function e(){var r,o;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["x"])(null===(r=t.row)||void 0===r?void 0:r.id);case 2:o=e.sent,Object.assign(n,{model:m(m({},n.model),{},{nextVersionName:o})});case 4:case"end":return e.stop()}}),e)})))),{rules:e,state:n,showFormat:r,datasetFormats:s["export_dataset_format"],handleFormatChange:o,showOfRecord:s["showOfRecord"]}}},O=g,w=r("2877"),T=Object(w["a"])(O,n,o,!1,null,null,null);e["default"]=T.exports},f5bf:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseModal",{attrs:{visible:t.visible,loading:t.loading,title:"修改数据集"},on:{change:t.handleCancel,ok:t.handleEditDataset}},[r("el-form",{ref:"form",attrs:{model:t.state.model,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"数据集名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"数据集名称不能超过50字",maxlength:"50"},model:{value:t.state.model.name,callback:function(e){t.$set(t.state.model,"name",e)},expression:"state.model.name"}})],1),t._v(" "),t.state.model.import?t._e():r("el-form-item",{attrs:{label:"标注类型",prop:"annotateType"}},[r("InfoSelect",{attrs:{placeholder:"标注类型",dataSource:t.annotationList,disabled:""},model:{value:t.state.model.annotateType,callback:function(e){t.$set(t.state.model,"annotateType",e)},expression:"state.model.annotateType"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"数据类型",prop:"dataType"}},[r("InfoSelect",{attrs:{placeholder:"数据类型",dataSource:t.dataTypeList,disabled:""},model:{value:t.state.model.dataType,callback:function(e){t.$set(t.state.model,"dataType",e)},expression:"state.model.dataType"}})],1),t._v(" "),t.showlabelGroup?r("el-form-item",{staticStyle:{height:"32px"},attrs:{label:"标签组"}},[t.editable?r("div",[r("el-cascader",{staticStyle:{width:"100%","line-height":"32px"},attrs:{placeholder:"标签组",options:t.state.labelGroupOptions,props:{expandTrigger:"hover"},"show-all-levels":!1,filterable:"",clearable:t.deletable,"popper-class":"group-cascader"},on:{change:t.handleGroupChange},model:{value:t.state.chosenGroup,callback:function(e){t.$set(t.state,"chosenGroup",e)},expression:"state.chosenGroup"}},[r("div",{attrs:{slot:"empty"},slot:"empty"},[r("span",[t._v("没有找到标签组？去")]),t._v(" "),r("a",{staticClass:"primary",attrs:{target:"_blank",type:"primary",underline:!1,href:(t.__IN_CLOUD__?"/"+t.appName:"#")+"/data/labelgroup/create"}},[t._v("\n              新建标签组\n            ")]),t._v(" "),r("span",[t._v("页面创建")])])]),t._v(" "),r("div",{staticStyle:{position:"relative",top:"-33px",right:"30px",float:"right"}},[null!==t.state.chosenGroupId?r("el-link",{staticClass:"vm",attrs:{target:"_blank",type:"primary",underline:!1,href:(t.__IN_CLOUD__?"/"+t.appName:"#")+"/data/labelgroup/detail?id="+t.state.chosenGroupId}},[t._v("\n            查看详情\n          ")]):t._e()],1)],1):r("div",{staticClass:"label-input",staticStyle:{color:"#c0c4cc","background-color":"#f5f7fa"}},[t._v("\n            "+t._s(t.state.model.labelGroupName)+"\n        "),null!==t.state.model.labelGroupId?r("el-link",{staticClass:"vm",staticStyle:{float:"right","margin-right":"8px"},attrs:{target:"_blank",type:"primary",underline:!1,href:(t.__IN_CLOUD__?"/"+t.appName:"#")+"/data/labelgroup/detail?id="+t.state.model.labelGroupId}},[t._v("\n          查看详情\n        ")]):t._e()],1)]):t._e(),t._v(" "),null===t.state.chosenGroupId&&t.showlabelGroup?r("div",{staticStyle:{position:"relative",top:"-10px","margin-left":"100px"}},[r("span",[t._v("标签组需要在")]),t._v(" "),r("a",{staticClass:"primary",attrs:{target:"_blank",type:"primary",underline:!1,href:(t.__IN_CLOUD__?"/"+t.appName:"#")+"/data/labelgroup/create"}},[t._v("\n        新建标签组\n      ")]),t._v(" "),r("span",[t._v("页面创建")])]):t._e(),t._v(" "),r("el-form-item",{staticStyle:{display:"none"},attrs:{label:"应用场景"}},[r("el-select",{attrs:{clearable:""},model:{value:t.state.model.module,callback:function(e){t.$set(t.state.model,"module",e)},expression:"state.model.module"}},t._l(t.datasetOccasionList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"数据集描述",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"数据集描述长度不能超过100字",maxlength:"100",rows:"3","show-word-limit":""},model:{value:t.state.model.remark,callback:function(e){t.$set(t.state.model,"remark",e)},expression:"state.model.remark"}})],1)],1)],1)},o=[],a=r("2ef0"),i=r("ed09"),l=r("f109"),c=r("ba8f"),s=r("61f7"),u=r("3da5"),p=r("60fe"),f=r("fcbd");function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e=v(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t){var e=b(t,"string");return"symbol"===d(e)?e:String(e)}function b(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var g={name:"EditDataset",components:{BaseModal:l["a"],InfoSelect:c["a"]},props:{visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},handleCancel:Function,handleOk:Function,row:{type:Object,default:function(){return{}}}},setup:function(t,e){var r=e.refs,n=Object(i["e"])(p["t"]),o=t.handleOk,l={name:[{required:!0,message:"请输入数据集名称",trigger:["change","blur"]},{validator:s["p"],trigger:["change","blur"]}],annotateType:[{required:!0,message:"请选择标注类型",trigger:"change"}],remark:[{required:!1,message:"请输入数据集描述信息",trigger:"blur"}]},c=function(t,e){return m(m({},t),e)},d=Object(i["n"])({model:c(t.row),chosenGroupId:null,chosenGroup:null,labelGroupOptions:[{value:"custom",label:"自定义标签组",disabled:!1,children:[]},{value:"system",label:"预置标签组",disabled:!1,children:[]}]}),h=Object(i["a"])((function(){return Object(a["isNil"])(t.row.labelGroupId)})),y=Object(i["a"])((function(){return Object.keys(u["dataTypeMap"]).map((function(t){return{label:u["dataTypeMap"][t],value:Number(t)}}))})),v=Object(i["a"])((function(){return Object(u["isIncludeStatus"])(d.model,["UNANNOTATED","UNSAMPLED"])})),b=Object(i["a"])((function(){return Object(u["enableLabelGroup"])(d.model.annotateType)&&!d.model.import})),g=function(){d.model.labelGroupId=d.chosenGroupId,r.form.validate((function(e){return!!e&&(o(d.model,t.row),null)}))},O=function(t){0===t.length?(d.chosenGroup=null,d.chosenGroupId=null):(d.chosenGroup=t,d.chosenGroupId=t[1])};return Object(i["r"])((function(){return t.row}),(function(t){Object.assign(d,{model:m(m({},d.model),t)}),Object(a["isNil"])(d.model.dataType)||Object(f["g"])({type:1,dataType:d.model.dataType,annotateType:d.model.annotateType}).then((function(t){t.forEach((function(t){d.labelGroupOptions[1].children.push({value:t.id,label:t.name,disabled:!1})}))})),Object(a["isNil"])(d.model.dataType)||Object(f["g"])({type:0,dataType:d.model.dataType,annotateType:d.model.annotateType}).then((function(t){t.forEach((function(t){d.labelGroupOptions[0].children.push({value:t.id,label:t.name,disabled:!1})}))})),Object(a["isNil"])(null===t||void 0===t?void 0:t.labelGroupId)?(d.chosenGroupId=null,d.chosenGroup=null):(d.chosenGroupId=t.labelGroupId,0===t.labelGroupType?d.chosenGroup=["custom",t.labelGroupId]:d.chosenGroup=["system",t.labelGroupId])})),{rules:l,state:d,deletable:h,editable:v,handleGroupChange:O,handleEditDataset:g,dataTypeList:y,annotationList:u["annotationList"],datasetOccasionList:n,showlabelGroup:b}}},O=g,w=r("2877"),T=Object(w["a"])(O,n,o,!1,null,null,null);e["default"]=T.exports}}]);