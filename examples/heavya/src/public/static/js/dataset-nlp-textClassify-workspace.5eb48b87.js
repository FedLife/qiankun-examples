(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["dataset-nlp-textClassify-workspace"],{5330:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.keymap,expression:"keymap",modifiers:{stop:!0}}]},[n("div",{staticClass:"flex flex-between"},[n("el-tabs",{staticClass:"eltabs-inlineblock",attrs:{value:t.activeTab},on:{"tab-click":t.handlePanelClick}},[n("el-tab-pane",{attrs:{label:t.countInfoTxt.noAnnotation,name:"noAnnotation"}}),t._v(" "),n("el-tab-pane",{attrs:{label:t.countInfoTxt.haveAnnotation,name:"haveAnnotation"}})],1),t._v(" "),n("div",{staticClass:"flex flex-end f1"},[n("div",{staticClass:"ml-40 mr-10 my-auto"},[t._v("标注进度:")]),t._v(" "),n("el-progress",{staticClass:"my-auto",staticStyle:{width:"50%"},attrs:{"show-text":!1,"stroke-width":10,percentage:t.percentage}}),t._v(" "),n("div",{staticClass:"my-auto ml-10"},[t._v(t._s(t.progressTxt))])],1)],1),t._v(" "),n("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix flex flex-between",staticStyle:{"line-height":"32px"},attrs:{slot:"header"},slot:"header"},[t.showCurrent?n("div",{staticClass:"f1"},[n("span",{staticClass:"vm"},[t._v("已选择标签：")]),t._v(" "),t.selectedLabels?t._l(t.selectedLabels,(function(e){return n("el-tag",{key:e.id,staticClass:"text-label vm mr-4",style:t.getStyle(e),attrs:{color:e.color,closable:"","disable-transitions":"",title:e.name},on:{close:function(n){return t.unselectLabel(e)}}},[t._v("\n            "+t._s(t.sliceTag(e.name))+"\n          ")])})):n("span",{staticClass:"g9 vm"},[t._v("请在右侧选择标签")])],2):t._e(),t._v(" "),t.showCurrent?n("span",[t._v(t._s(t.current))]):t._e(),t._v(" "),n("div",{staticClass:"f1"},[n("div",{staticClass:"fr"},[n("el-button",{attrs:{disabled:!t.showPrev,type:"text"},on:{click:t.toPrev}},[t._v("\n            上一篇("),n("i",{staticClass:"el-icon-back"}),t._v(")\n          ")]),t._v(" "),n("el-button",{attrs:{disabled:!t.showNext,type:"text"},on:{click:t.toNext}},[t._v("\n            下一篇("),n("i",{staticClass:"el-icon-right"}),t._v(")\n          ")]),t._v(" "),n("el-popconfirm",{attrs:{title:"确认删除该文本？"},on:{onConfirm:t.deleteFile}},[n("el-button",{staticClass:"ml-10",attrs:{slot:"reference",disabled:!t.showDelete,type:"text"},slot:"reference"},[t._v("\n              删除\n            ")])],1)],1)])]),t._v(" "),n("div",{staticClass:"text"},[t.showException?n("Exception"):t.loading?n("div",{staticClass:"flex flex-center g6",staticStyle:{"min-height":"80px"}},[t._v("\n        加载中...\n      ")]):n("TextEditor",{staticClass:"text-annotate",attrs:{txt:t.state.txt}})],1)]),t._v(" "),t.fileId?n("div",{staticClass:"action-bar mt-20 flex flex-end"},[n("el-button",{attrs:{type:"primary",disabled:t.comfirmDisabled},on:{click:t.confirm}},[t._v("确认（C）")])],1):t._e()],1)},o=[],c=n("ed09"),i=n("f7d4"),s=n("46b1"),l=n("ed08"),r={name:"Workspace",components:{TextEditor:i["a"],Exception:s["a"]},props:{activeTab:String,txt:String,selectedLabels:{type:Array,default:function(){return[]}},countInfo:{type:Object,default:function(){return{}}},pageInfo:{type:Object,default:function(){return{}}},loading:Boolean,deleteFile:Function,unselectLabel:Function,toNext:Function,toPrev:Function,saving:Boolean,changeActiveTab:Function,fileId:[Number,String],confirmLabel:Function},setup:function(t){var e=Object(c["n"])({activeTab:t.activeTab||"noAnnotation",txt:t.txt||""}),n=Object(c["a"])((function(){return{noAnnotation:"无标注信息（".concat(t.countInfo.noAnnotation,"）"),haveAnnotation:"有标注信息（".concat(t.countInfo.haveAnnotation,"）")}})),a=Object(c["a"])((function(){return e.loading||t.saving||!t.fileId})),o=Object(c["a"])((function(){var e=t.countInfo.noAnnotation+t.countInfo.haveAnnotation;return 0===e?0:t.countInfo.haveAnnotation/e*100})),i=Object(c["a"])((function(){return"".concat(t.countInfo.haveAnnotation,"/").concat(t.countInfo.haveAnnotation+t.countInfo.noAnnotation)})),s=function(t){return t.length<12?t:"".concat(t.slice(0,12),"...")},r=function(t){var e=Object(l["z"])(t.color);return{color:e,border:"none"}},u=Object(c["a"])((function(){return t.pageInfo.total>0})),f=Object(c["a"])((function(){return"当前文本顺序：".concat(t.pageInfo.current)})),d=Object(c["a"])((function(){return t.pageInfo.current>1})),v=Object(c["a"])((function(){return t.pageInfo.current<t.pageInfo.total})),b=Object(c["a"])((function(){return t.pageInfo.total>0})),p=Object(c["a"])((function(){return!1===t.loading&&!t.fileId})),x=function(e){t.changeActiveTab(e)},h=function(){a.value||t.confirmLabel({annotation:t.selectedLabels.length>0?t.selectedLabels.map((function(t){return{category_id:t.id,score:1}})):null})},m=Object(c["a"])((function(){return{c:h}}));return Object(c["r"])((function(){return t.txt}),(function(t){e.txt=t})),Object(c["r"])((function(){return t.activeTab}),(function(t){e.activeTab=t})),{state:e,showException:p,showDelete:b,getStyle:r,showPrev:d,showNext:v,countInfoTxt:n,percentage:o,progressTxt:i,handlePanelClick:x,showCurrent:u,current:f,comfirmDisabled:a,confirm:h,keymap:m,sliceTag:s}}},u=r,f=(n("b8d4"),n("2877")),d=Object(f["a"])(u,a,o,!1,null,null,null);e["default"]=d.exports},"748d":function(t,e,n){},b8d4:function(t,e,n){"use strict";n("748d")}}]);