(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["dataset-annotate-workSpaceContainer","dataset-annotate-workSpaceContainer-dropdownLabel","dataset-annotate-workSpaceContainer-annotationId","dataset-annotate-workSpaceContainer-bbox","dataset-annotate-workSpaceContainer-bboxWrapper","dataset-annotate-workSpaceContainer-brushTip","dataset-annotate-workSpaceContainer-score","dataset-annotate-workSpaceContainer-tag","dataset-annotate-workSpaceContainer-toolbar","dataset-annotate-workSpaceContainer-dropdownLabel-style-scss"],{"0196":function(t,e,n){"use strict";n.r(e);var o=n("2638"),r=n.n(o),a=n("4d26"),i=n.n(a),s=n("2ef0"),c=n("ed08"),u=n("3da5"),l=["annotate","currentAnnotationId","dragStart","dragMove","dragEnd","brush","transformer"];function d(t,e){if(null==t)return{};var n,o,r=f(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}e["default"]={name:"Bbox",functional:!0,props:{annotate:Object,brush:Object,scale:{type:Number,default:1},pos:{type:Object,default:function(){return{}}},dragStart:Function,dragMove:Function,dragEnd:Function,currentAnnotationId:String,transformer:Object,imgRef:HTMLImageElement},render:function(t,e){var n=e.props,o=e.data.style,a=n.annotate,f=void 0===a?{}:a,h=n.currentAnnotationId,p=n.dragStart,v=n.dragMove,m=n.dragEnd,g=(n.brush,n.transformer),b=d(n,l),y=f.data,x=void 0===y?{}:y,O=x.bbox,w=x.color;if(Object(s["isNil"])(O))return null;var j=w||u["defaultFill"],S=h===f.id,_=S?.4:.1,B=Object(c["x"])(j).alpha(_),k=null;return f.id===g.id&&(k="translate(".concat(g.dx,", ").concat(g.dy,")")),t("g",{class:i()("bbox-group",{active:S})},[t("rect",r()([{attrs:{fill:B,stroke:w||u["defaultColor"],strokeWidth:4,x:n.pos.x,y:n.pos.y,width:n.pos.width,height:n.pos.height,transform:k},on:{mousemove:v,mouseup:m,mousedown:p},style:o},b]))])}}},"2f37":function(t,e,n){"use strict";n("9d40")},4723:function(t,e,n){},"707c":function(t,e,n){"use strict";n.r(e);var o=n("2ef0"),r=n("ed08");e["default"]={name:"BrushTip",props:{annotate:Object,dimension:Object,brush:Object},setup:function(t){var e=function(){var e=t.brush.extent;return Object(o["isNil"])(e)?0:e.x1-e.x0},n=function(){var e=t.brush.extent;return Object(o["isNil"])(e)?0:e.y1-e.y0},r=function(){var e=t.brush.extent,n=void 0===e?{}:e;return{x:n.x1,y:n.y1}};return{getWidth:e,getHeight:n,getEndPoint:r}},render:function(){var t,e,n,o,a,i,s=arguments[0],c=this.getWidth(),u=this.getHeight(),l=this.getEndPoint(),d=this.dimension.svg,f={left:Object(r["t"])(null===(t=this.brush.extent)||void 0===t?void 0:t.x0),top:Object(r["t"])((null===(e=this.brush.extent)||void 0===e?void 0:e.y0)-30)},h={right:Object(r["t"])(d.width-(null===(n=this.brush.extent)||void 0===n?void 0:n.x1)),top:Object(r["t"])((null===(o=this.brush.extent)||void 0===o?void 0:o.y1)+6)};(null===(a=this.brush.extent)||void 0===a?void 0:a.y0)<30&&(f.top=Object(r["t"])((null===(i=this.brush.extent)||void 0===i?void 0:i.y0)+6));return s("div",{class:"usn"},[s("div",{class:"brush-tooltip size-tipper",style:f},[c>0&&u>0&&s("div",{class:"tooltip-item-row"},[Object(r["Qb"])(c,0,0)," * ",Object(r["Qb"])(u,0,0)])]),s("div",{class:"brush-tooltip dimension-tipper",style:h},[l&&s("div",{class:"tooltip-item-row"},["(",Object(r["Qb"])(l.x,0,0),", ",Object(r["Qb"])(l.y,0,0),")"])])])}}},"80a3":function(t,e,n){"use strict";n.r(e);var o=n("2ef0"),r=n("ed08"),a=n("3da5"),i=function(t){return!Object(o["isNil"])(t)&&-1!==t&&t};e["default"]={name:"Tag",functional:!0,props:{annotate:Object,offset:Function,currentAnnotationId:String,brush:Object,transformer:Object,scale:{type:Number},imgBounding:{type:Array},getLabelName:Function},render:function(t,e){var n=e.props,s=n.annotate,c=void 0===s?{}:s,u=n.offset,l=n.brush,d=n.transformer,f=c.data,h=void 0===f?{}:f,p=c.id,v=h.bbox,m=h.color,g=void 0===m?a["defaultColor"]:m;if(n.currentAnnotationId===p&&l.isBrushing)return null;if(Object(o["isNil"])(v))return null;var b=u(n.annotate),y={width:Object(r["t"])(b.width),left:Object(r["t"])(b.x),top:Object(r["t"])(b.y),color:Object(r["z"])(g)};c.id===d.id&&(y.transform="translate(".concat(d.dx,"px, ").concat(d.dy,"px)"));var x=Object(r["x"])(g).alpha(.8).toString(),O=function(){return c.name?c.name:!1!==i(h.track_id)?h.track_id:null}();return O?t("div",{class:"annotation-label image-tag",style:y},[t("el-tag",{attrs:{color:x},style:{color:"inherit",border:"none"}},[O])]):null}}},"9d40":function(t,e,n){},a07a:function(t,e,n){"use strict";n("bd9e8")},a291:function(t,e,n){"use strict";n.r(e);var o=n("2ef0"),r=n("ed08"),a=n("3da5"),i=48;e["default"]={name:"Score",functional:!0,props:{annotate:Object,offset:Function,transformer:Object,brush:Object,currentAnnotationId:String},render:function(t,e){var n=e.props,s=n.annotate,c=void 0===s?{}:s,u=n.offset,l=n.transformer,d=n.brush,f=c.data,h=void 0===f?{}:f,p=c.id,v=h.bbox,m=h.color,g=void 0===m?a["defaultColor"]:m,b=h.score,y=void 0===b?1:b;if(n.currentAnnotationId===p&&d.isBrushing)return null;if(Object(o["isNil"])(v))return null;var x=u(n.annotate),O={width:Object(r["t"])(x.width),left:Object(r["t"])(x.x+Math.min((x.width-i)/2,0)),top:Object(r["t"])(Math.max(x.y-30,0)),minWidth:Object(r["t"])(i)};c.id===l.id&&(O.transform="translate(".concat(l.dx,"px, ").concat(l.dy,"px)"));var w={backgroundColor:Object(r["x"])(g).alpha(.8),color:Object(r["z"])(g)};return t("div",{class:"annotation-score-row tc",style:O},[t("span",{class:"score",style:w},[Math.floor(100*y),t("span",{class:"unit"},["分"])])])}}},b86f:function(t,e,n){"use strict";n.r(e);var o=n("2ef0"),r=n("ed08"),a=n("3da5");e["default"]={name:"Tag",functional:!0,props:{annotate:Object,offset:Function,transformer:Object,getLabelName:Function,isMoving:{type:Boolean,default:!1},currentAnnotationId:String,annotationType:String},render:function(t,e){var n=e.props,i=n.annotate,s=void 0===i?{}:i,c=n.getLabelName,u=n.offset,l=n.transformer,d=n.annotationType,f=s.data,h=void 0===f?{}:f,p=s.id,v="shapes"===d?h.points:h.bbox,m=h.color,g=void 0===m?a["defaultColor"]:m;if(n.currentAnnotationId===p&&n.isMoving)return null;if(Object(o["isNil"])(v))return null;var b=u(n.annotate),y={left:Object(r["t"])(b.x),top:Object(r["t"])(b.y),color:Object(r["z"])(g)};s.id===l.id&&(y.transform="translate(".concat(l.dx,"px, ").concat(l.dy,"px)"));var x=Object(r["x"])(g).alpha(.8).toString(),O=c(h.categoryId);return O?t("div",{class:"annotation-label image-tag usn",style:y},[t("el-tag",{attrs:{color:x,"disable-transitions":!0},style:{color:"inherit",border:"none"}},[O])]):null}}},b9c0:function(t,e,n){"use strict";n.r(e);var o=n("2638"),r=n.n(o),a=n("2b0e"),i=n("2ef0"),s=n("ed09"),c=n("ed08"),u=n("df78"),l=n("9f9df"),d=n("0196");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e=m(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=g(t,"string");return"symbol"===f(e)?e:String(e)}function g(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={name:"BboxWrapper",inheritAttrs:!1,props:{annotate:Object,brush:{type:Object,default:function(){return{}}},onDragStart:Function,onDragMove:Function,onDragEnd:Function,onBrushHandleChange:Function,onBrushHandleEnd:Function,transformer:Object,currentAnnotationId:String,setCurAnnotation:Function,getZoom:Function,handleSize:{type:Number,default:6},offset:Function,scale:{type:Number,default:1},bounds:{type:Object},svg:{type:Object,default:function(){return{}}}},components:{h:s["d"],Drag:u["a"],Bbox:d["default"]},setup:function(t){var e=t.offset,n=t.scale,o=t.onDragStart,r=t.onDragMove,c=t.onDragEnd,u=t.onBrushHandleChange,l=t.bounds,d=void 0===l?{}:l,f=t.onBrushHandleEnd,h=t.setCurAnnotation,v=t.getZoom;function m(){var e=t.annotate.data,n=void 0===e?{}:e,o=n.extent,r=void 0===o?{}:o;return{extent:r,start:{x:r.x0,y:r.y0},end:{x:r.x1,y:r.y1}}}var g=Object(s["n"])(p({activeHandle:void 0,drag:void 0,bounds:{x0:0,x1:d.width,y0:0,y1:d.height}},m())),b=function(t,e){var n=t(g);a["default"].nextTick((function(){Object.assign(g,n),"function"===typeof e&&e(g)}))},y=function(e){b(e,(function(e){"function"===typeof u&&u(e,t.annotate)}))},x=function(e){b(e,(function(e){"function"===typeof f&&f(e,t.annotate)}))},O=function(){var n=t.handleSize,o=e(t.annotate),r=o.x,a=o.y,i=o.width,s=o.height,c=n/2;return{top:{x:r-c,y:a-c,height:n,width:i+n},bottom:{x:r-c,y:a+s-c,height:n,width:i+n},right:{x:r+i-c,y:a-c,height:s+n,width:n},left:{x:r-c,y:a-c,height:s+n,width:n}}},w=function(){var n=t.handleSize,o=e(t.annotate),r=o.x,a=o.y,i=o.width,s=o.height,c=n/2;return{topLeft:{x:r-c,y:a-c},bottomLeft:{x:r-c,y:a+s-c},topRight:{x:r+i-c,y:a-c},bottomRight:{x:r+i-c,y:a+s-c}}},j=function(){h(t.annotate)},S=function(e){var n={x:e.x+e.dx,y:e.y+e.dy},r=p({},n),a={start:n,end:r};"function"===typeof o&&o(a,t.annotate)},_=function(e){var o=v(),a=o.zoom;b((function(t){var o=t.start,r=o.x,i=o.y,s=t.end,c=s.x,u=s.y,l=a*n,d=e.dx>0?Math.min(e.dx/l,t.bounds.x1-c):Math.max(e.dx/l,t.bounds.x0-r),f=e.dy>0?Math.min(e.dy/l,t.bounds.y1-u):Math.max(e.dy/l,t.bounds.y0-i);return p(p({},t),{},{isBrushing:!0,extent:p(p({},t.extent),{},{x0:r+d,x1:c+d,y0:i+f,y1:u+f}),drag:p(p({},e),{},{validDx:d,validDy:f})})}),(function(e){"function"===typeof r&&r(e,t.annotate)}))},B=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.prevState;r.isMoving&&b((function(t){var e=p(p({},t),{},{isBrushing:!1,start:p(p({},t.start),{},{x:Math.min(t.extent.x0,t.extent.x1),y:Math.min(t.extent.y0,t.extent.y1)}),end:p(p({},t.end),{},{x:Math.max(t.extent.x0,t.extent.x1),y:Math.max(t.extent.y0,t.extent.y1)})});return e}),(function(e){"function"===typeof c&&c(e,t.annotate)}))};return Object(s["r"])((function(){return t.bounds}),(function(t){Object(i["isEmpty"])(t)||Object.assign(g,{bounds:{x0:0,x1:d.width,y0:0,y1:d.height}})})),{state:g,updateBrush:b,updateBrushHandler:y,updateBrushHandlerEnd:x,brushHandlerStart:j,handles:O,corners:w,getExtent:m,selectionDragStart:S,selectionDragMove:_,selectionDragEnd:B}},render:function(t){var e=this,n=this.annotate,o=void 0===n?{}:n,a=this.scale,i=this.brush,s=this.handleSize,f=this.transformer,h=this.currentAnnotationId,v=this.handles(),m=this.corners(),g=this.offset(o),b={props:p(p({},this.$attrs),{},{annotate:o,pos:g,transformer:f,currentAnnotationId:h})},y={props:{onDragStart:this.selectionDragStart,onDragMove:this.selectionDragMove,onDragEnd:this.selectionDragEnd,resetOnStart:!0,width:this.svg.width,height:this.svg.height}};return t(u["a"],r()([{},y,{key:o.id}]),[function(n){var r={pointerEvents:i.isBrushing||e.state.activeHandle?"none":"all"},u=Object(c["tb"])(b,{props:p(p({},n),{},{brush:e.state}),style:r}),g=Object.keys(v).map((function(n){var o=v[n];return t(l["c"],{key:"handle-".concat(n),attrs:{type:n,handle:o,scale:a,stageWidth:e.svg.width,stageHeight:e.svg.height,handleBrushStart:e.brushHandlerStart,updateBrush:e.updateBrushHandler,updateBrushEnd:e.updateBrushHandlerEnd,getZoom:e.getZoom}})})),y=Object.keys(m).map((function(n){var r=m[n];return t(l["b"],{attrs:{annotate:o,transformer:f,currentAnnotationId:h,type:n,x:r.x,y:r.y,width:s,height:s,scale:a,stageWidth:e.svg.width,stageHeight:e.svg.height,handleBrushStart:e.brushHandlerStart,updateBrush:e.updateBrushHandler,updateBrushEnd:e.updateBrushHandlerEnd,getZoom:e.getZoom},key:"corner-".concat(n)})}));return t("g",[n.state.isDragging&&t("rect",{attrs:{width:e.svg.width,height:e.svg.height,fill:"transparent"},on:{mouseup:n.dragEnd,mousemove:n.dragMove,mouseleave:function(t){Object(c["gb"])(t,t.target)||n.dragEnd()}},style:{cursor:"move"}}),t(d["default"],u),t("g",{class:"bbox-handles-group"},[g]),t("g",{class:"bbox-corners-group"},[y])])}])}}},bd9e8:function(t,e,n){t.exports={menuBg:"#f3f7ff",menuText:"#666",menuActiveText:"#1890ff"}},c199:function(t,e,n){},ca0c:function(t,e,n){"use strict";n("c199")},ded6:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace-container flex flex-col"},[t.state.error.value?n("Exception",[n("template",{slot:"desc"},[t._v("\n      "+t._s((t.state.error.value||{}).message||"error")+"\n    ")])],2):n("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.keymap,expression:"keymap",modifiers:{stop:!0}}],staticClass:"workspace-stage flex flex-col f1"},[n("ToolBar",t._g({attrs:{zoomIn:t.zoomIn,zoomOut:t.zoomOut,zoomReset:t.resetZoom,clearSelection:t.clearSelection,api:t.api,setApi:t.setApi,confirm:t.confirm,isSegmentation:t.isSegmentation}},t.listeners)),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.imgInfo.loaded,expression:"!imgInfo.loaded"}],ref:"imgWrapperRef",staticClass:"f1 rel",attrs:{id:"stage"}},[n("ZoomContainer",t._b({ref:"zoomRef",attrs:{controlled:!0,filter:t.filter,onZoom:t.handleZoom}},"ZoomContainer",t.zoom,!1),[n("div",{staticClass:"zoom-content"},[n("div",{staticClass:"zoom-content-bound rel",style:t.dimension.marginStyle},[n("div",{staticClass:"imgWrapper",class:t.dimension.scale<1?"imgScale":"",style:t.dimension.imgScaleStyle},[n("img",{ref:"imgRef",staticClass:"usn",attrs:{src:t.currentImg.url}})]),t._v(" "),n("div",{staticClass:"annotation-element-group abs",style:t.dimension.annotationGroupStyle},[n("svg",{ref:"svgRef",staticClass:"canvas",style:t.dimension.svg},[t.isSegmentation?n("Segmentation",{ref:"segmentationRef",attrs:{stageWidth:t.dimension.svg.width,stageHeight:t.dimension.svg.height,shapes:t.api.shapes,offset:t.offsetBbox,currentAnnotationId:t.state.currentAnnotationId.value,setCurAnnotation:t.setCurAnnotation,updateState:t.updateState,transformZoom:t.transformZoom,scale:t.dimension.scale,getZoom:t.getZoom,bounds:t.dimension.img},on:{change:t.handleShapesChange}}):n("g",[n("Brush",{attrs:{stageWidth:t.dimension.svg.width,stageHeight:t.dimension.svg.height,onBrushStart:t.handleBrushStart,onBrushMove:t.handleBrushMove,onBrushEnd:t.handleBrushEnd,transformZoom:t.transformZoom}}),t._v(" "),n("g",{staticClass:"annotation-group"},t._l(t.api.annotations,(function(e){return n("BboxWrapper",{key:e.id,attrs:{annotate:e,brush:t.brush,offset:t.offset,transformer:t.transformer,svg:t.dimension.svg,scale:t.dimension.scale,bounds:t.dimension.img,onDragStart:t.onDragStart,onDragMove:t.onDragMove,onDragEnd:t.onDragEnd,onBrushHandleChange:t.onBrushHandleChange,onBrushHandleEnd:t.onBrushHandleEnd,currentAnnotationId:t.state.currentAnnotationId.value,setCurAnnotation:t.setCurAnnotation,getZoom:t.getZoom}})})),1)],1)],1),t._v(" "),n("div",{staticClass:"annotation-extra"},[t.state.showScore.value&&!t.isSegmentation?n("div",{staticClass:"annotation-score-group"},t._l(t.api.annotations,(function(e){return n("Score",{key:e.id,attrs:{annotate:e,currentAnnotationId:t.state.currentAnnotationId.value,brush:t.brush,offset:t.offset,transformer:t.transformer}})})),1):t._e(),t._v(" "),t.state.showTag.value?n("div",{staticClass:"annotation-tag-group"},t._l(t.annotations,(function(e){return n("Tag",{key:e.id,attrs:{annotate:e,currentAnnotationId:t.state.currentAnnotationId.value,isMoving:t.isSegmentation?t.transformer.isDragging:t.brush.isBrushing,offset:t.offset,transformer:t.transformer,getLabelName:t.getLabelName,annotationType:t.annotationType}})})),1):t._e(),t._v(" "),t.state.showId.value&&t.isTrack?n("div",{staticClass:"annotation-tag-group"},t._l(t.api.annotations,(function(e){return n("AnnotationId",{key:e.id,attrs:{annotate:e,currentAnnotationId:t.state.currentAnnotationId.value,brush:t.brush,offset:t.offset,transformer:t.transformer,scale:t.dimension.scale,getLabelName:t.getLabelName,imgBounding:t.api.imgBounding}})})),1):t._e(),t._v(" "),t.brush.isBrushing&&t.brush.extent?n("BrushTip",{attrs:{brush:t.brush,dimension:t.dimension}}):t._e()],1)])])])]),t._v(" "),n("DropDownLabel",t._b({attrs:{visible:t.tooltipData.visible,hideTooltip:t.hideTooltip,value:t.api.label.value,handleChange:t.handleSelectChange,labels:t.labels}},"DropDownLabel",t.tooltipData,!1))],1)],1)],1)},r=[],a=n("ed09"),i=n("2ef0"),s=n("0165"),c=n("5c96"),u=n("3da5"),l=n("806c"),d=n("ed08"),f=n("9f9df"),h=n("00a5"),p=n("d934");function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e=y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=x(t,"string");return"symbol"===v(e)?e:String(e)}function x(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function O(t){var e=t.zoom,n=t.zoomX,o=t.zoomY;return p["b"].translate(n||0,o||0).scale(e||1)}var w,j,S={name:"ZoomContainer",props:{controlled:{type:Boolean,default:!1},disableMouseWheelZoom:{type:Boolean,default:!1},zoomX:{type:Number,default:0},zoomY:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:.1},maxZoom:{type:Number,default:8},filter:Function,onZoom:Function},setup:function(t){var e=t.controlled,n=t.minZoom,o=t.maxZoom,r=t.disableMouseWheelZoom,c=t.onZoom,u=t.filter,l=Object(a["o"])(null),d=null,f=Object(a["n"])({lastZoomTransform:null,selection:null,zoomKey:Math.random()}),v=function t(){var n=s["c"].transform;if(e){var o=f.selection,r=f.lastZoomTransform;d.on("zoom",null),d.transform(o,r),d.on("zoom",t)}else Object.assign(f,{zoomKey:Math.random()});for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];"function"===typeof c&&c.apply(void 0,[n].concat(i))},m=function(){Object(i["isFunction"])(u)&&d.filter(u)};return Object(a["k"])((function(){var e=O(t),a=l.value,i=Object(h["a"])(a);d=Object(p["a"])().scaleExtent([n,o]),i.call(d),r?i.call(d).on("wheel.zoom",null):i.call(d),d.transform(i,e),m(),d.on("zoom",v),Object.assign(f,{selection:i,lastZoomTransform:e})})),Object(a["r"])((function(){return[t.zoom,t.zoomX,t.zoomY]}),(function(t,e){var n=!Object(i["isEqual"])(t,e),o={zoom:t[0],zoomX:t[1],zoomY:t[2]};if(n){d.on("zoom",null);var r=O(o);d.transform(f.selection,r),d.on("zoom",v),f.lastZoomTransform=r,f.zoomKey=Math.random()}m()})),g({wrapperRef:l},Object(a["q"])(f))},render:function(){var t=arguments[0],e=this.wrapperRef?Object(p["c"])(this.wrapperRef):{},n=e.x,o=e.y,r=e.k,a={transform:"translate(".concat(n||0,"px, ").concat(o||0,"px) scale(").concat(r||1,")")};return t("div",{ref:"wrapperRef",class:"zoom-wrapper"},[t("span",{class:"dn"},[this.zoomKey]),t("div",{class:"zoom-inner",style:a},[this.$slots.default])])}},_=S,B=(n("ca0c"),n("2877")),k=Object(B["a"])(_,w,j,!1,null,"7290eb4a",null),E=k.exports,C=n("46b1"),z=n("f51d"),I=n("b9c0"),D=n("a291"),L=n("b86f"),A=n("80a3"),M=n("ff81"),F=n("707c"),N=n("0393");function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */T=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:O(t,n,s)}),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=u;var d={};function f(){}function h(){}function p(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(B([])));g&&g!==e&&n.call(g,a)&&(v=g);var b=p.prototype=f.prototype=Object.create(v);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==P(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function O(t,e,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return k()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=l(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function w(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=l(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function B(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,o(b,"constructor",{value:p,configurable:!0}),o(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},y(x.prototype),c(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,r,a){void 0===a&&(a=Promise);var i=new x(u(e,n,o,r),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=B,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:B(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Z(t,e,n,o,r,a,i){try{var s=t[a](i),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,r)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){Z(a,o,r,i,s,"next",t)}function s(t){Z(a,o,r,i,s,"throw",t)}i(void 0)}))}}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e=Y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t){var e=X(t,"string");return"symbol"===P(e)?e:String(e)}function X(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==P(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var K=n("2c80"),q=0,Q=160,$={name:"WorkSpaceContainer",components:{ZoomContainer:E,Segmentation:N["default"],Exception:C["a"],Brush:f["a"],ToolBar:z["default"],DropDownLabel:M["default"],Score:D["default"],Tag:L["default"],AnnotationId:A["default"],BboxWrapper:I["default"],BrushTip:F["default"]},props:{state:Object,currentImg:{type:Object,default:function(){return null}},drawShapeEnd:Function,createLabel:Function,queryLabels:Function,getLabelName:Function,updateState:Function,handleConfirm:Function,deleteAnnotation:Function,isTrack:Boolean,isSegmentation:Boolean,annotationType:String,handlePrev:Function,handleNext:Function},setup:function(t,e){var n=t.drawShapeEnd,o=t.state,r=t.createLabel,f=t.queryLabels,h=t.updateState,p=t.deleteAnnotation,v=t.handleConfirm,m=t.isSegmentation,g=t.annotationType,b=Object(a["o"])(null),y=Object(a["o"])(null),x=Object(a["o"])(null),O=Object(a["o"])(null),w=Object(a["o"])(null),j=Object(a["e"])(u["labelsSymbol"]),S=Object(a["n"])({annotations:t.state.annotations,shapes:t.state.shapes,label:{},bounding:null,isCenter:!1,imgBounding:null,active:""}),_=Object(a["a"])((function(){return S[g]})),B=Object(a["n"])({id:void 0,dx:0,dy:0,x:void 0,y:void 0}),k=e.listeners,E=Object(l["c"])(),C=E.brush,z=E.onBrushStart,I=E.onBrushMove,D=E.updateBrush,L=E.getExtent,A=E.onBrushReset,M={zoom:Object(l["b"])(o.zoom),zoomX:Object(l["b"])(o.zoomX),zoomY:Object(l["b"])(o.zoomY)},F=Object(l["l"])(M,b),N=F.zoomIn,P=F.zoomOut,Z=F.setZoom,R=F.reset,Y=F.zoom,X=F.getZoom,Q=Object(l["k"])(),$=Q.tooltipData,J=Q.showTooltip,U=Q.hideTooltip,V=Object(l["e"])(),tt=V.imgInfo,et=void 0===tt?{}:tt,nt=V.setImg,ot=function(){return"mousedown"!==s["c"].type},rt=function(t){Object.assign(S,t)},at=function(t){Object.assign(B,t)},it=function(t){return Object(d["db"])(e.refs.zoomRef.wrapperRef,t)},st={svg:{},img:{},wrapper:{},margin:{},scale:1},ct=Object(a["a"])((function(){if(!Object(i["isNil"])(S.bounding)&&et.loaded&&y.value){var t=S.bounding,e=t.width,n=t.height,o=t.left,r=t.top,a=et.width,s=et.height,c={width:e,height:n-q,left:o,top:r},u=Math.min(c.width/et.width,c.height/et.height,1),l={width:u<1?e:Math.min(a,e),height:u<1?n-q:Math.min(s,n)},d={left:1===u?"".concat((e-a)/2,"px"):0,top:1===u?"".concat((n-q-s)/2,"px"):0,width:"".concat(1===u?a:e,"px"),height:"".concat(1===u?s:n-q,"px")},f=Math.max(c.width-a*u,0)/2,h=Math.max(c.height-s*u,0)/2,p={};f>0&&(p["padding-left"]="".concat(f,"px"),p["padding-right"]="".concat(f,"px")),h>0&&(p["padding-top"]="".concat(h,"px"),p["padding-bottom"]="".concat(h,"px"));var v={left:f,top:h},m={width:a,height:s},g=u<1?{width:"".concat(et.width*u,"px"),height:"".concat(et.height*u,"px"),transition:"opacity 0.4s",opacity:1}:{};return S.isCenter=!0,{svg:l,img:m,wrapper:c,margin:v,marginStyle:p,scale:u,imgScaleStyle:g,annotationGroupStyle:d}}return!et.loaded||0===et.width&&0===et.height?W(W({},st),{},{imgScaleStyle:{opacity:0}}):st})),ut=function(){U();var t=o.currentAnnotationId.value;t&&p(t)},lt=function(){var t;null===(t=w.value)||void 0===t||t.reset()},dt=function(){var t;null===(t=w.value)||void 0===t||t.finishDraw()},ft=function(){rt({active:"selection"}),U(),k.selection(!0)};Object(a["r"])((function(){return S.isCenter}),(function(t){if(t){var e=S.bounding,n=e.width,o=e.height,r=Object(d["U"])(O.value),a=r.width,i=r.height,s=ct.value.scale<1?n:ct.value.img.width,c=ct.value.scale<1?o-q:ct.value.img.height;Object.assign(S,{imgBounding:[(s-a)/2,(c-i)/2]})}}));var ht=Object(a["a"])((function(){return{left:{keyup:t.handlePrev},right:{keyup:t.handleNext},backspace:ut,delete:ut,n:ft,esc:lt,f:dt}})),pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h({currentAnnotationId:t.id||""})},vt=function(t){U();var e=t.x,n=t.y;z({x:e,y:n}),pt(void 0)},mt=function(t){var e=t.end||{},n=e.x,o=e.y;I({x:n,y:o})},gt=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.prevState,a=void 0===r?{}:r;if(t.end&&a.isDragging)return J({},e,{el:b.value}),n&&n(t,e),void A();A()},bt=function(){return k.selection(!1)},yt=function(t){return!!(j.value||[]).find((function(e){return e.id===Number(t)}))},xt=function(t){var e=ct.value.scale<1&&!Object(i["isNil"])(S.imgBounding)?S.imgBounding[0]:0,n=ct.value.scale<1&&!Object(i["isNil"])(S.imgBounding)?S.imgBounding[1]:0,o={x:t.x*ct.value.scale+e,y:t.y*ct.value.scale+n};return t.width&&t.height&&Object.assign(o,{width:t.width*ct.value.scale,height:t.height*ct.value.scale}),o},Ot=function(t){var e=t.data,n=void 0===e?{}:e,o=m?Object(d["Ab"])(n.points):Object(d["M"])(n.extent);return xt(o)},wt=function(t,e){var n=Ot(e);h((function(n){var o=n.annotations.findIndex((function(t){return t.id===e.id}));if(o>-1){var r=n.annotations[o],a=W(W({},r),{},{data:W(W({},r.data),{},{extent:t.extent})}),i=Object(d["Kb"])(n.annotations,o,a);return W(W({},n),{},{annotations:i})}return n})),D((function(t){return W(W({},t),{},{isBrushing:!0,extent:{x0:n.x,x1:n.x+n.width,y0:n.y,y1:n.y+n.height}})}))},jt=function(t,e){var n=Ot(e);D((function(t){return W(W({},t),{},{isBrushing:!1,extent:{x0:n.x,x1:n.x+n.width,y0:n.y,y1:n.y+n.height}})}))},St=function(){v().then((function(){c["Message"].success({message:"人工确认成功",duration:400,onClose:t.handleNext})}))},_t=function(){var t=H(T().mark((function t(n){var a,i,s,c,u,l;return T().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=n,yt(n)){t.next=9;break}return t.next=4,r({name:n});case 4:return a=t.sent,t.next=7,f();case 7:i=t.sent,h({labels:i});case 9:s=o.currentAnnotationId,c=m?o.shapes:o.annotations,u=W(W({},S.label),{},{value:a}),Object.assign(S,{label:u}),l=c.value.find((function(t){return t.id===s.value}))||{},e.emit("selectLabel",{selectedLabel:u,curAnnotation:l}),U();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Bt=function(t){t&&Z({zoomX:t.x,zoomY:t.y,zoom:t.k})},kt=function(t,e){var n=S.annotations.findIndex((function(t){return t.id===e.id}));if(n>-1){var o=Object(d["Gb"])(S.annotations,n);Object.assign(S,{annotations:o})}pt(e);var r=Ot(e);D((function(t){var e={x:r.x,y:r.y},n={x:r.x+r.width,y:r.y+r.height};return W(W({},t),{},{start:e,end:n,extent:L(e,n)})}))},Et=function(t,e){var n=Ot(e),o=t.drag,r=void 0===o?{}:o,a=X(),i=a.zoom,s=r.dx>0?Math.min(r.dx/i,ct.value.svg.width-n.x-n.width):Math.max(r.dx/i,-n.x),c=r.dy>0?Math.min(r.dy/i,ct.value.svg.height-n.y-n.height):Math.max(r.dy/i,-n.y);D((function(t){var e=t.start,n=e.x,o=e.y,r=t.end,a=r.x,i=r.y;return W(W({},t),{},{isBrushing:!0,extent:W(W({},t.extent),{},{x0:n+s,x1:a+s,y0:o+c,y1:i+c})})})),at({isDragging:!0,id:e.id,x:r.x,y:r.y,dx:s,dy:c})},Ct=function(t,e){var n=t.drag,o=void 0===n?{}:n;at({isDragging:!1,id:e.id,x:o.x,y:o.y,dx:0,dy:0}),h((function(t){var n=t.annotations.findIndex((function(t){return t.id===e.id}));if(n>-1){var r=t.annotations[n],a=W(W({},r),{},{data:W(W({},r.data),{},{extent:{x0:r.data.extent.x0+(o.validDx||0),y0:r.data.extent.y0+(o.validDy||0),x1:r.data.extent.x1+(o.validDx||0),y1:r.data.extent.y1+(o.validDy||0)}})}),i=Object(d["Kb"])(t.annotations,n,a);return W(W({},t),{},{annotations:i})}return t})),D((function(t){return W(W({},t),{},{isBrushing:!1,start:W(W({},t.start),{},{x:Math.min(t.extent.x0,t.extent.x1),y:Math.min(t.extent.y0,t.extent.y1)}),end:W(W({},t.end),{},{x:Math.max(t.extent.x0,t.extent.x1),y:Math.max(t.extent.y0,t.extent.y1)})})}))},zt=function(t){var e=t.type,o=t.state,r=t.options,a=void 0===r?{}:r,i=a.shape,s=a.event;switch(e){case"DRAW_END":s&&J(i,s,{el:b.value}),n(i);break;default:var c=w.value.transformer;at(c),h({shapes:o.shapes})}};return Object(a["k"])((function(){K(document.body,"click",(function(t){var e=t.target;e.closest(".annotation-table")||e.closest("#stage")||e.closest(".label-list")||h({currentAnnotationId:""})})),S.bounding=Object(d["U"])(b.value)})),Object(a["j"])((function(){x.value&&x.value.remove(),x.value=null})),Object(a["r"])((function(){return t.currentImg}),(function(t){R(),Object.assign(S,{label:{},isCenter:!1,imgBounding:null}),null!==t&&void 0!==t&&t.url&&nt(t.url),rt(G({},g,[])),lt()})),Object(a["r"])((function(){return t.state}),(function(t){g in t&&(S[g]=t[g]||[])})),{listeners:k,imgWrapperRef:b,labels:j,brush:C,clearSelection:bt,filter:ot,zoom:Y,zoomIn:N,zoomOut:P,resetZoom:R,handleZoom:Bt,tooltipData:$,hideTooltip:U,imgInfo:et,dimension:ct,svgRef:y,imgRef:O,api:S,setApi:rt,handleSelectChange:_t,confirm:St,onDragStart:kt,onDragMove:Et,onDragEnd:Ct,keymap:ht,handleBrushStart:vt,handleBrushMove:mt,handleBrushEnd:gt,offset:Ot,offsetBbox:xt,transformer:B,setTransformer:at,onBrushHandleChange:wt,onBrushHandleEnd:jt,transformZoom:it,getZoom:X,setCurAnnotation:pt,segmentationRef:w,handleShapesChange:zt,annotations:_}}},J=$;n("a07a");n.d(e,"ThumbWidth",(function(){return Q}));var U=Object(B["a"])(J,o,r,!1,null,null,null);e["default"]=U.exports},f51d:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace-toolbar flex flex-between"},[n("div",{staticClass:"toolbar-left"},[n("el-tooltip",{attrs:{content:t.isSegmentation?"自定义绘制":"绘制选框",placement:"top","open-delay":400}},[n("IconFont",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],class:"selection"===t.api.active?"active":"",attrs:{type:t.isSegmentation?"draw":"SELECTION"},on:{click:t.onSelection}})],1),t._v(" "),n("el-tooltip",{attrs:{content:"放大",placement:"top","open-delay":400}},[n("IconFont",{class:"zoomIn"===t.api.active?"active":"",attrs:{type:"fangda1"},on:{click:t.handleZoomIn}})],1),t._v(" "),n("el-tooltip",{attrs:{content:"缩小",placement:"top","open-delay":400}},[n("IconFont",{class:"zoomOut"===t.api.active?"active":"",attrs:{type:"suoxiao1"},on:{click:t.handleZoomOut}})],1),t._v(" "),n("el-tooltip",{attrs:{content:"重置",placement:"top","open-delay":400}},[n("IconFont",{class:"reset"===t.api.active?"active":"",attrs:{type:"reset"},on:{click:t.handleZoomReset}})],1)],1),t._v(" "),n("div",{staticClass:"toolbar-right"},[n("div",{staticClass:"action-item",on:{click:t.save}},[n("IconFont",{attrs:{type:"baocun"}}),t._v(" "),n("span",[t._v("保存")])],1),t._v(" "),n("div",{staticClass:"action-item",on:{click:t.confirm}},[n("IconFont",{attrs:{type:"finish"}}),t._v(" "),n("span",[t._v("完成")])],1),t._v(" "),n("div",{staticClass:"action-item"},[n("el-popconfirm",{attrs:{title:"确定删除该文件吗？"},on:{onConfirm:t.remove}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("i",{staticClass:"el-icon-delete mr-4"}),t._v("删除")])])],1),t._v(" "),n("div",{staticClass:"action-item"},[n("el-tooltip",{attrs:{effect:"dark",placement:"bottom-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"label-tooltip"},[n("div",{staticClass:"f14 label-title"},[t._v("快捷键说明：")]),t._v(" "),n("div",{staticClass:"flex tips-wrapper f12"},[n("div",[t._v("上一张：Left")]),t._v(" "),n("div",[t._v("下一张：Right")]),t._v(" "),n("div",[t._v("确认提交：Enter")]),t._v(" "),n("div",[t._v("手动标注: N")]),t._v(" "),n("div",[t._v("删除标注：Backspace")]),t._v(" "),t.isSegmentation?n("div",[t._v("完成绘制：F")]):t._e(),t._v(" "),t.isSegmentation?n("div",[t._v("放弃绘制：ESC")]):t._e(),t._v(" "),t.isSegmentation?n("div",[t._v("连续绘制：SHIFT")]):t._e()])])]),t._v(" "),n("div",[n("IconFont",{attrs:{type:"help"}}),t._v(" "),n("span",[t._v("帮助")])],1)])],1)])])},r=[],a=n("c28b"),i=n.n(a),s={name:"ToolBar",directives:{clickOutside:i.a.directive},props:{api:{type:Object,default:function(){return{}}},zoomIn:Function,zoomOut:Function,zoomReset:Function,clearSelection:Function,confirm:Function,setApi:Function,isSegmentation:Boolean},setup:function(t,e){var n=t.clearSelection,o=t.zoomIn,r=t.zoomOut,a=t.zoomReset,i=t.setApi,s=function(){i({active:"selection"}),e.emit("selection",!0)},c=function(t){t.target.closest(".toolbar-left")||i({active:""}),n()},u=function(){e.emit("save")},l=function(){e.emit("remove")},d=function(){i({active:"zoomIn"}),o()},f=function(){i({active:"zoomOut"}),r()},h=function(){i({active:"reset"}),a()};return{onClickOutside:c,onSelection:s,handleZoomIn:d,handleZoomOut:f,handleZoomReset:h,save:u,remove:l}}},c=s,u=(n("2f37"),n("2877")),l=Object(u["a"])(c,o,r,!1,null,"d14218f4",null);e["default"]=l.exports},ff81:function(t,e,n){"use strict";n.r(e);var o=n("806c"),r=(n("4723"),{name:"DropDownLabel",functional:!0,render:function(t,e){var n=e.props,r=n.visible,a=n.position,i=n.hideTooltip,s=n.value,c=n.handleChange,u=n.labels,l=void 0===u?[]:u;return t(o["a"],{class:"dropdown-label",attrs:{visible:r,position:a,hideTooltip:i}},[t("el-select",{attrs:{value:s,filterable:!0,"allow-create":!0,"default-first-option":!0,placeholder:"请选择标签"},key:s,on:{change:c}},[l.map((function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))])])}});e["default"]=r}}]);