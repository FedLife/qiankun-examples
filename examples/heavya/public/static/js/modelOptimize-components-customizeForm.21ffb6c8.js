(window["webpackJsonp_dubhe_web"]=window["webpackJsonp_dubhe_web"]||[]).push([["modelOptimize-components-customizeForm","modelOptimize-components-quickUploadPopover","modelOptimize-util"],{"0be6":function(t,e,r){"use strict";r.d(e,"f",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return c}));var n=r("b775"),o=r("f121");function a(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelBranch"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelBranch"),method:"post",data:t})}function s(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelBranch"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelBranch"),method:"delete",data:t})}function l(t){return Object(n["a"])({url:"".concat(o["a"].MODEL,"/ptModelBranch/convertPreset"),method:"post",data:t})}function c(t){return Object(n["a"])({url:"".concat(o["a"].MODEL,"/ptModelBranch/convertOnnx"),method:"post",data:{id:t}})}e["c"]={list:a,add:i,edit:s,del:u}},"1ebe":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-popover",{attrs:{title:"您可以在这里上传所需文件",trigger:"click",offset:t.popoverOffset,width:t.popoverWidth},on:{hide:t.onHide},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:t.formLabel,prop:"name"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}})],1),t._v(" "),r("el-form-item",{ref:"filesPath",attrs:{label:"文件路径",prop:"path"}},[t.visible?r("upload-inline",{ref:"upload",attrs:{action:"fakeApi",accept:t.fileType,"list-type":"text",acceptSize:t.fileSize,acceptSizeFormat:t.uploadSizeFomatter,params:t.uploadParams,"show-file-count":!1,"auto-upload":!0,filters:t.uploadFilters,limit:1,"on-remove":t.onFileRemove},on:{uploadStart:t.uploadStart,uploadSuccess:t.uploadSuccess,uploadError:t.uploadError}}):t._e(),t._v(" "),t.uploading?r("upload-progress",{attrs:{progress:t.progress,color:t.customColors,status:t.status,size:t.size},on:{onSetProgress:t.onSetProgress}}):t._e()],1)],1),t._v(" "),r("div",{staticStyle:{margin:"0","text-align":"right"}},[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",loading:t.submitting},on:{click:t.onFilesUpload}},[t._v("上传")])],1),t._v(" "),r("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("上传")])],1)},o=[],a=r("ed08"),i=r("6e3b"),s=r("7f969"),u={name:"QuickUploadPopover",components:{UploadInline:s["a"],UploadProgress:i["a"]},props:{formLabel:{type:String,default:"模型上传"},uploadApi:{type:Function,required:!0},fileType:{type:String,default:".zip"},fileSize:{type:Number,default:0},popoverOffset:{type:Number,default:5},popoverWidth:{type:[String,Number],default:500}},data:function(){return{form:{name:null,path:null},rules:{name:[{required:!0,message:"请输入名称",trigger:"change"},{max:32,message:"长度在 32 个字符以内",trigger:"blur"},{validator:a["ac"],trigger:["blur","change"]}],path:[{required:!0,message:"请输入文件路径",trigger:["blur","manual"]}]},uploadParams:{objectPath:null},progress:0,size:0,customColors:[{color:"#909399",percentage:40},{color:"#e6a23c",percentage:80},{color:"#67c23a",percentage:100}],uploadFilters:[a["ib"]],uploading:!1,submitting:!1,visible:!1}},computed:{user:function(){return this.$store.getters.user},status:function(){return 100===this.progress?"success":null}},mounted:function(){this.updatePath()},methods:{onFileRemove:function(){this.form.path=null,this.uploading=!1,this.$refs.filesPath.validate("manual")},uploadStart:function(t){this.updatePath();var e=[!0,t.size,0];this.uploading=e[0],this.size=e[1],this.progress=e[2]},onSetProgress:function(t){this.progress+=t},uploadSuccess:function(t){var e=this;this.progress=100,setTimeout((function(){e.uploading=!1}),1e3),this.form.path=t[0].data.objectName,this.$refs.filesPath.validate("manual")},uploadError:function(){this.$message({message:"上传文件失败",type:"error"}),this.uploading=!1},updatePath:function(){this.uploadParams.objectPath="upload-temp/".concat(this.user.id,"/").concat(Object(a["ab"])())},onFilesUpload:function(){var t=this;this.submitting||this.$refs.form.validate((function(e){e&&(t.submitting=!0,t.uploadApi(t.form).then((function(e){t.$emit("success",e),t.visible=!1})).finally((function(){t.submitting=!1})))}))},onCancel:function(){this.visible=!1},onHide:function(){this.reset()},reset:function(){var t=this;this.form.name=this.form.path=null,setTimeout((function(){t.$refs.form.clearValidate()}),0),this.uploading=this.submitting=!1},uploadSizeFomatter:a["Ub"]}},l=u,c=r("2877"),d=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=d.exports},"493c":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form-item",{ref:"modelAddress",attrs:{label:"选择模型",prop:"modelAddress"}},[r("el-select",{attrs:{placeholder:"请选择模型",clearable:"",filterable:""},on:{change:t.onModelChange},model:{value:t.form.modelId,callback:function(e){t.$set(t.form,"modelId",e)},expression:"form.modelId"}},t._l(t.customizeModelList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),r("el-select",{attrs:{placeholder:"请选择模型版本",clearable:"",filterable:""},on:{change:t.onModelVersionChange},model:{value:t.form.modelAddress,callback:function(e){t.$set(t.form,"modelAddress",e)},expression:"form.modelAddress"}},t._l(t.modelVersionList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.version,value:t.modelAddress}})})),1),t._v(" "),r("QuickUploadPopover",{attrs:{"form-label":"模型名称","upload-api":t.addCustomizeModel,"file-type":".zip,.py","popover-width":630,"popover-offset":-135},on:{success:t.onRefreshModel}})],1),t._v(" "),r("el-form-item",{ref:"datasetPath",attrs:{label:"数据集",prop:"datasetPath"}},[r("el-select",{attrs:{placeholder:"请选择数据集","value-key":"id",filterable:"",clearable:""},on:{change:t.onDatasetChange},model:{value:t.selectedDataset,callback:function(e){t.selectedDataset=e},expression:"selectedDataset"}},t._l(t.datasetList,(function(t){return r("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1),t._v(" "),r("QuickUploadPopover",{attrs:{"form-label":"数据集名称","upload-api":t.addCustomizeDatasets},on:{success:t.onRefreshDataset}})],1),t._v(" "),r("el-form-item",{staticClass:"is-required",attrs:{label:"算法来源"}},[r("el-radio-group",{on:{change:t.onBuiltInAlgorithmChange},model:{value:t.isBuiltInAlgorithm,callback:function(e){t.isBuiltInAlgorithm=e},expression:"isBuiltInAlgorithm"}},[r("el-radio",{staticClass:"mr-0 w-200",attrs:{border:"",label:!1}},[t._v("我的算法")]),t._v(" "),r("el-radio",{staticClass:"w-200",attrs:{border:"",label:!0}},[t._v("内置算法")])],1)],1),t._v(" "),r("el-form-item",{ref:"algorithmPath",attrs:{label:"优化算法",prop:"algorithmPath"}},[r("el-select",{attrs:{"value-key":"algorithmName",clearable:"",filterable:"",placeholder:"请选择您使用的算法代码"},on:{change:t.onAlgorithmChange},model:{value:t.selectedAlgorithm,callback:function(e){t.selectedAlgorithm=e},expression:"selectedAlgorithm"}},t._l(t.algorithmList,(function(t){return r("el-option",{key:t.algorithmName,attrs:{value:t,label:t.algorithmName}})})),1),t._v(" "),r("el-checkbox",{model:{value:t.form.editAlgorithm,callback:function(e){t.$set(t.form,"editAlgorithm",e)},expression:"form.editAlgorithm"}},[t._v("编辑算法")])],1),t._v(" "),r("el-form-item",{ref:"command",attrs:{label:"运行命令",prop:"command"}},[r("el-input",{attrs:{placeholder:"例如：python run.py 或 bash run.sh"},model:{value:t.form.command,callback:function(e){t.$set(t.form,"command",e)},expression:"form.command"}})],1),t._v(" "),r("run-param-form",{ref:"runParamComp",attrs:{"run-param-obj":t.form.params||{},prop:"params","param-label-width":"100px"},on:{updateRunParams:t.updateRunParams,addParams:t.onParamsAdded}}),t._v(" "),r("el-form-item",{attrs:{label:"运行命令预览",prop:"preview"}},[r("div",{staticClass:"command-preview"},[t._v("\n      "+t._s(t.preview)+"\n    ")])])],1)},o=[],a=r("2ef0"),i=r("8bbd"),s=r("9eb2"),u=r("0be6"),l=r("5a63"),c=r("42b1"),d=r("1ebe"),m=r("cf58");function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),s=new P(o||[]);return n(i,"_invoke",{value:L(t,r,s)}),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var d={};function m(){}function p(){}function g(){}var v={};u(v,a,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(j([])));y&&y!==e&&r.call(y,a)&&(v=y);var O=g.prototype=m.prototype=Object.create(v);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function o(n,a,i,s){var u=c(t[n],t,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==h(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,i,s)}),(function(t){o("throw",t,i,s)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function L(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return _()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=c(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=g,n(O,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:p,configurable:!0}),p.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},I(M.prototype),u(M.prototype,i,(function(){return this})),t.AsyncIterator=M,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new M(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},I(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function p(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(l){return void r(l)}s.done?e(u):Promise.resolve(u).then(n,o)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){p(a,n,o,i,s,"next",t)}function s(t){p(a,n,o,i,s,"throw",t)}i(void 0)}))}}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e=O(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){var e=I(t,"string");return"symbol"===h(e)?e:String(e)}function I(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var M={modelId:null,modelAddress:null,modelBranchId:null,datasetId:null,datasetName:null,datasetPath:null,algorithmId:null,algorithmType:null,algorithmName:null,algorithmPath:null,command:"",params:{},editAlgorithm:!1},L={modelId:null,datasetId:null,algorithmId:null,command:"",params:{},editAlgorithm:!1},w={name:"CustomizeForm",components:{RunParamForm:c["a"],QuickUploadPopover:d["default"]},data:function(){return{customizeModelList:[],modelVersionList:[],datasetList:[],selectedDataset:null,isBuiltInAlgorithm:!1,algorithmList:[],selectedAlgorithm:null,paramsObj:{},form:b({},M)}},computed:{preview:function(){for(var t=this.form.command,e=0,r=Object.keys(this.paramsObj);e<r.length;e++){var n=r[e];t+=" --".concat(n,"=").concat(this.paramsObj[n])}return this.form.modelAddress&&(t+=" --model_dir=/model_dir"),this.form.datasetPath&&(t+=" --dataset_dir=/dataset_dir"),t}},watch:{form:{deep:!0,handler:function(t){this.$emit("change",t)}}},beforeDestroy:function(){this.$emit("change",L)},methods:{init:function(t,e){var r=this;Object.keys(this.form).forEach((function(e){!Object(a["isNil"])(t[e])&&(r.form[e]=t[e])})),this.isBuiltInAlgorithm=Object(a["isNil"])(this.form.algorithmId)&&!Object(a["isNil"])(this.form.algorithmPath),this.getCustomizeModels(e),this.getDatasets(e),this.getAlgorithms(this.isBuiltInAlgorithm,e)},reset:function(){this.form=b(b({},M),{},{params:{}}),this.selectedDataset=this.selectedAlgorithm=null,this.modelVersionList=[],this.paramsObj={},this.isBuiltInAlgorithm=!1,this.getCustomizeModels(),this.getDatasets(),this.getAlgorithms(this.isBuiltInAlgorithm)},validate:function(t){2===this.$refs.runParamComp.paramsMode&&this.$refs.runParamComp.convertArgsToPairs();var e=this.$refs.runParamComp.validate();return e||this.$message({message:"运行参数不合法",type:"warning"}),t(e)},validateField:function(t){this.$refs[t].validate("manual")},getCustomizeModels:function(){var t=g(f().mark((function t(e){var r=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["f"])(0);case 2:if(this.customizeModelList=t.sent,!e){t.next=9;break}if(this.customizeModelList.find((function(t){return t.id===r.form.modelId}))){t.next=8;break}return this.$message.warning("原模型不存在，请重新选择"),this.form.modelId=this.form.modelAddress=this.form.modelBranchId=null,t.abrupt("return");case 8:this.getModelVersions(this.form.modelId,e);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getModelVersions:function(){var t=g(f().mark((function t(e,r){var n=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])({parentId:e});case 2:this.modelVersionList=t.sent.result,r&&!this.modelVersionList.find((function(t){return t.modelAddress===n.form.modelAddress}))&&(this.$message.warning("原模型版本不存在，请重新选择"),this.form.modelAddress=this.form.modelBranchId=null);case 4:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getDatasets:function(){var t=g(f().mark((function t(e){var r=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["f"])();case 2:this.datasetList=t.sent,e&&(this.selectedDataset=this.datasetList.find((function(t){return t.id===r.form.datasetId})),this.selectedDataset||(this.$message.warning("原内置数据集不存在，请重新选择"),this.form.datasetId=this.form.datasetName=this.form.datasetPath=null));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAlgorithms:function(){var t=g(f().mark((function t(e,r){return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e?this.getBuiltInAlgorithms(r):this.getCustomizeAlgorithms(r);case 1:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getBuiltInAlgorithms:function(){var t=g(f().mark((function t(e){var r=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["g"])();case 2:this.algorithmList=t.sent.map((function(t){return{type:t.type,algorithmName:t.algorithm,codeDir:t.algorithmPath}})),e&&(this.selectedAlgorithm=this.algorithmList.find((function(t){return t.algorithmName===r.form.algorithmName})),this.selectedAlgorithm||(this.$message.warning("原内置优化算法不存在，请重新选择"),this.form.algorithmName=this.form.algorithmPath=null));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCustomizeAlgorithms:function(){var t=g(f().mark((function t(e){var r=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["f"])({current:1,size:1e3,algorithmSource:1,algorithmUsage:m["OPTIIMZE_ALGORITHM_USAGE_NAME"]});case 2:this.algorithmList=t.sent.result,e&&(this.selectedAlgorithm=this.algorithmList.find((function(t){return t.id===r.form.algorithmId})),this.selectedAlgorithm||(this.$message.warning("原优化算法不存在，请重新选择"),this.form.algorithmId=this.form.algorithmName=this.form.algorithmPath=null));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onModelChange:function(){var t=g(f().mark((function t(e){return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.form.modelAddress=this.modelBranchId=null,!e){t.next=6;break}return t.next=4,this.getModelVersions(e);case 4:t.next=7;break;case 6:this.modelVersionList=[];case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onModelVersionChange:function(t){var e=this,r=this.modelVersionList.find((function(e){return e.modelAddress===t}));r&&(this.form.modelBranchId=r.id),this.$nextTick((function(){return e.validateField("modelAddress")}))},onDatasetChange:function(t){var e=this;this.form.datasetId=t.id,this.form.datasetName=t.name,this.form.datasetPath=t.path,this.$nextTick((function(){return e.validateField("datasetPath")}))},onBuiltInAlgorithmChange:function(t){this.selectedAlgorithm=null,this.form.algorithmId=this.algorithmName=this.form.algorithmPath=this.form.algorithmType=null,this.form.editAlgorithm=!1,this.algorithmList=[],this.getAlgorithms(t)},onAlgorithmChange:function(t){var e=this;this.form.algorithmId=t.id||null,this.form.algorithmName=t.algorithmName,this.form.algorithmPath=t.codeDir,this.form.algorithmType=Object(a["isNil"])(t.type)?null:t.type,this.$nextTick((function(){return e.validateField("algorithmPath")}))},updateRunParams:function(t){this.paramsObj=t},onParamsAdded:function(t){t>1&&this.$emit("toBottom")},onRefreshDataset:function(t){this.datasetList.unshift(t),this.selectedDataset=t,this.onDatasetChange(t)},onRefreshModel:function(){var t=g(f().mark((function t(e){return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.customizeModelList.unshift(e),this.form.modelId=e.id,t.next=4,this.onModelChange(this.form.modelId);case 4:this.modelVersionList.length>0&&(this.form.modelAddress=this.modelVersionList[0].modelAddress,this.form.modelBranchId=this.modelVersionList[0].id,this.onModelVersionChange());case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addCustomizeDatasets:l["b"],addCustomizeModel:i["b"]}},E=w,A=r("2877"),P=Object(A["a"])(E,n,o,!1,null,null,null);e["default"]=P.exports},"5a63":function(t,e,r){"use strict";r.d(e,"i",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"h",(function(){return d})),r.d(e,"f",(function(){return m})),r.d(e,"b",(function(){return h})),r.d(e,"j",(function(){return f}));var n=r("b775"),o=r("f121");function a(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task"),method:"post",data:t})}function s(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task"),method:"delete",data:t})}function l(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/getAlgorithm"),method:"get",params:t})}function c(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/getBuiltInModel"),method:"get",params:t})}function d(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/getDataset"),method:"get",params:t})}function m(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/myDataset"),method:"get",params:t})}function h(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/myDataset"),method:"post",data:t})}function f(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL_OPTIMIZE,"/task/submit"),method:"post",data:t})}},"8bbd":function(t,e,r){"use strict";r.d(e,"l",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"f",(function(){return l})),r.d(e,"m",(function(){return c})),r.d(e,"k",(function(){return d})),r.d(e,"b",(function(){return m})),r.d(e,"j",(function(){return h})),r.d(e,"i",(function(){return f})),r.d(e,"e",(function(){return p})),r.d(e,"h",(function(){return g})),r.d(e,"g",(function(){return v}));var n=r("b775"),o=r("f121");function a(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo"),method:"post",data:t})}function s(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo"),method:"delete",data:t})}function l(t,e){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/byResource"),method:"get",params:{modelResource:t,packaged:e}})}function c(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/package"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/servingModel"),method:"get",params:{modelResource:t}})}function m(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/uploadModel"),method:"post",data:t})}function h(){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelType"),method:"get"})}function f(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelSuffix"),method:"get",params:t})}function p(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/byModelId"),method:"get",params:{id:t}})}function g(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelStruct"),method:"get",params:t})}function v(t){return Object(n["a"])({url:"/".concat(o["a"].MODEL,"/ptModelInfo/atlasModel"),method:"get",params:t})}e["c"]={list:a,add:i,edit:s,del:u}},"9eb2":function(t,e,r){"use strict";r.d(e,"f",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"h",(function(){return c})),r.d(e,"e",(function(){return d})),r.d(e,"d",(function(){return m}));var n=r("b775"),o=r("f121");function a(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms/getAll"),method:"get",params:t})}function s(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms"),method:"post",data:t})}function u(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms"),method:"put",data:t})}function l(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms"),method:"delete",data:t})}function c(){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms/myAlgorithmCount"),method:"get"})}function d(){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms/getInferenceAlgorithm"),method:"get"})}function m(t){return Object(n["a"])({url:"/".concat(o["a"].ALGORITHM,"/algorithms/findAlgorithmByName"),method:"get",params:t})}},cf58:function(t,e,r){"use strict";var n,o,a;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e,r){return e=u(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=l(t,"string");return"symbol"===i(e)?e:String(e)}function l(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}r.r(e),r.d(e,"OPTIMIZE_ALGORITHM_TYPE_ENUM",(function(){return c})),r.d(e,"OPTIMIZE_ALGORITHM_TYPE_MAP",(function(){return d})),r.d(e,"OPTIMIZE_STATUS_ENUM",(function(){return m})),r.d(e,"OPTIMIZE_STATUS_MAP",(function(){return h})),r.d(e,"OPTIIMZE_ALGORITHM_USAGE_NAME",(function(){return f})),r.d(e,"RESULT_NAME_MAP",(function(){return p})),r.d(e,"RESULT_STATUS_ENUM",(function(){return g})),r.d(e,"RESULT_STATUS_MAP",(function(){return v}));var c={PRUNE:0,DISTILL:1,QUNTIFICAT:2},d=(n={},s(n,c.PRUNE,"剪枝"),s(n,c.DISTILL,"蒸馏"),s(n,c.QUNTIFICAT,"量化"),n),m={WAITING:"-1",RUNNING:"0",FINISHED:"1",CANCELED:"2",FAILED:"3"},h=(o={},s(o,m.WAITING,{name:"待处理"}),s(o,m.RUNNING,{name:"进行中"}),s(o,m.FINISHED,{name:"已完成",tagMap:"success"}),s(o,m.CANCELED,{name:"已取消",tagMap:"info"}),s(o,m.FAILED,{name:"执行失败",tagMap:"danger"}),o),f="模型优化",p={accuracy:"准确度",reasoningTime:"推理速度",modelSize:"模型大小"},g={NAGATIVE:"-1",SAME:"0",POSITIVE:"1"},v=(a={},s(a,g.NAGATIVE,"decline"),s(a,g.SAME,""),s(a,g.POSITIVE,"promote"),a)}}]);